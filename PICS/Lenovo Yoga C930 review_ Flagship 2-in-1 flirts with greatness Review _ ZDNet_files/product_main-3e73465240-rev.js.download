/*!
Waypoints - 3.1.1
Copyright © 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/

/*!
* jQuery throttle / debounce - v1.1 - 3/7/2010
* http://benalman.com/projects/jquery-throttle-debounce-plugin/
*
* Copyright (c) 2010 "Cowboy" Ben Alman
* Dual licensed under the MIT and GPL licenses.
* http://benalman.com/about/license/
*/

// Script: jQuery throttle / debounce: Sometimes, less is more!
//
// *Version: 1.1, Last updated: 3/7/2010*
//
// Project Home - http://benalman.com/projects/jquery-throttle-debounce-plugin/
// GitHub - http://github.com/cowboy/jquery-throttle-debounce/
// Source - http://github.com/cowboy/jquery-throttle-debounce/raw/master/jquery.ba-throttle-debounce.js
// (Minified) - http://github.com/cowboy/jquery-throttle-debounce/raw/master/jquery.ba-throttle-debounce.min.js (0.7kb)
//
// About: License
//
// Copyright (c) 2010 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
//
// About: Examples
//
// These working examples, complete with fully commented code, illustrate a few
// ways in which this plugin can be used.
//
// Throttle - http://benalman.com/code/projects/jquery-throttle-debounce/examples/throttle/
// Debounce - http://benalman.com/code/projects/jquery-throttle-debounce/examples/debounce/
//
// About: Support and Testing
//
// Information about what version or versions of jQuery this plugin has been
// tested with, what browsers it has been tested in, and where the unit tests
// reside (so you can test it yourself).
//
// jQuery Versions - none, 1.3.2, 1.4.2
// Browsers Tested - Internet Explorer 6-8, Firefox 2-3.6, Safari 3-4, Chrome 4-5, Opera 9.6-10.1.
// Unit Tests - http://benalman.com/code/projects/jquery-throttle-debounce/unit/
//
// About: Release History
//
// 1.1 - (3/7/2010) Fixed a bug in <jQuery.throttle> where trailing callbacks
// executed later than they should. Reworked a fair amount of internal
// logic as well.
// 1.0 - (3/6/2010) Initial release as a stand-alone project. Migrated over
// from jquery-misc repo v0.4 to jquery-throttle repo v1.0, added the
// no_trailing throttle parameter and debounce functionality.
//
// Topic: Note for non-jQuery users
//
// jQuery isn't actually required for this plugin, because nothing internal
// uses any jQuery methods or properties. jQuery is just used as a namespace
// under which these methods can exist.
//
// Since jQuery isn't actually required for this plugin, if jQuery doesn't exist
// when this plugin is loaded, the method described below will be created in
// the `Cowboy` namespace. Usage will be exactly the same, but instead of
// $.method() or jQuery.method(), you'll need to use Cowboy.method().

/*!
Waypoints Sticky Element Shortcut - 3.1.1
Copyright © 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/

/*
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2013 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.9.3
 *
 */

/*
* jQuery Mobile v1.4.5
* http://jquerymobile.com
*
* Copyright 2010, 2014 jQuery Foundation, Inc. and other contributors
* Released under the MIT license.
* http://jquery.org/license
*
*/

define("managers/social",["managers/page-vars","version!fly/managers/debug"],function(e,t){function i(e){"string"==typeof n[e]&&require([n[e]],function(t){n[e]=t,t.init()})}t=t.init("social");var n={linkedin:"managers/social/linkedin",pinterest:"managers/social/pinterest",twitter:"managers/social/twitter",facebook:"managers/social/facebook"};return e.services.disqus.enabled&&(n.disqus="managers/disqus"),{init:function(){for(name in n){var e=$('[data-social="'+name+'"]').length>0;e&&i(name),t.log("init "+name+": "+e)}},parse:function(t){t=t||null,$('[data-social="linkedIn"]',t).length>0&&("string"==typeof n.linkedIn?i("linkedIn"):n.linkedIn.parse(t)),$('[data-social="pinterest"]',t).length>0&&"string"==typeof n.pinterest&&i("pinterest"),$('[data-social="twitter"]',t).length>0&&("string"==typeof n.twitter?i("twitter"):n.twitter.parse()),$('[data-social="facebook"]',t).length>0&&("string"==typeof n.facebook?i("facebook"):n.facebook.parse()),$('[data-social="disqus"]',t).length>0&&e.services.disqus.enabled&&("string"==typeof n.disqus?i("disqus"):n.disqus.parse(t))}}}),window.Modernizr=function(e,t,i){function n(e){u.cssText=e}function s(e,t){return typeof e===t}var o,a,r={},l=t.documentElement,d="modernizr",c=t.createElement(d),u=c.style,h=" -webkit- -moz- -o- -ms- ".split(" "),p={},m=[],f=m.slice,g=function(e,i,n,s){var o,a,r,c,u=t.createElement("div"),h=t.body,p=h||t.createElement("body");if(parseInt(n,10))for(;n--;)r=t.createElement("div"),r.id=s?s[n]:d+(n+1),u.appendChild(r);return o=["&#173;",'<style id="s',d,'">',e,"</style>"].join(""),u.id=d,(h?u:p).innerHTML+=o,p.appendChild(u),h||(p.style.background="",p.style.overflow="hidden",c=l.style.overflow,l.style.overflow="hidden",l.appendChild(p)),a=i(u,e),h?u.parentNode.removeChild(u):(p.parentNode.removeChild(p),l.style.overflow=c),!!a},v={}.hasOwnProperty;a=s(v,"undefined")||s(v.call,"undefined")?function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")}:function(e,t){return v.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=f.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=t.prototype;var o=new s,a=t.apply(o,i.concat(f.call(arguments)));return Object(a)===a?a:o}return t.apply(e,i.concat(f.call(arguments)))};return n}),p.touch=function(){var i;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?i=!0:g(["@media (",h.join("touch-enabled),("),d,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){i=9===e.offsetTop}),i};for(var y in p)a(p,y)&&(o=y.toLowerCase(),r[o]=p[y](),m.push((r[o]?"":"no-")+o));return r.addTest=function(e,t){if("object"==typeof e)for(var n in e)a(e,n)&&r.addTest(n,e[n]);else{if(e=e.toLowerCase(),r[e]!==i)return r;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(l.className+=" "+(t?"":"no-")+e),r[e]=t}return r},n(""),c=null,r._version="2.6.2",r._prefixes=h,r.testStyles=g,r}(this,this.document),define("libs/modernizr",function(){}),define("managers/device",["jquery","version!fly/managers/debug","libs/modernizr"],function(e,t){t=t.init("device");var i={desktop:"desktop",mobile:"mobile"},n={type:"desktop"};return{init:function(i){t.log("Device manager Init!"),n.type=i;var s=e("body");Modernizr.touch?s.addClass("touch-enabled"):s.addClass("touch-disabled")},getType:function(){return n.type},isDesktop:function(){return n.type===i.desktop},isMobile:function(){return n.type===i.mobile},isAndroid:function(){return navigator.userAgent.match(/Android/i)},isKindle:function(){return navigator.userAgent.match(/Kindle/i)||navigator.userAgent.match(/Silk/i)},isBlackBerry:function(){return navigator.userAgent.match(/BB10/i)&&navigator.userAgent.match(/Mobile/i)},isWinPhone:function(){return navigator.userAgent.match(/Windows Phone/i)},isIPhone:function(){return navigator.userAgent.match(/iPhone/i)},isIPad:function(){return navigator.userAgent.match(/iPad/i)},isDesktopUserAgent:function(){return!(this.isAndroid()||this.isKindle()||this.isBlackBerry()||this.isWinPhone()||this.isIPhone()||this.isIPad())},isMobileUserAgent:function(){return this.isAndroid()||this.isKindle()||this.isBlackBerry()||this.isWinPhone()||this.isIPhone()||this.isIPad()},getClickType:function(){return Modernizr.touch?"tap":"click"},getImmediateClickType:function(){return Modernizr.touch?"touchstart":"click"}}}),define("libs/jquery/jquery.waypoints",["jquery"],function(){!function(){"use strict";function e(n){if(!n)throw new Error("No options passed to Waypoint constructor");if(!n.element)throw new Error("No element option passed to Waypoint constructor");if(!n.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t,this.options=e.Adapter.extend({},e.defaults,n),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=n.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,t+=1}var t=0,i={};e.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},e.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(e){var t=[];for(var n in i)t.push(i[n]);for(var s=0,o=t.length;s<o;s++)t[s][e]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){e.invokeAll("enable")},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(e){window.setTimeout(e,1e3/60)}function t(e){this.element=e,this.Adapter=s.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,n[e.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,n={},s=window.Waypoint,o=window.onload;t.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},t.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical);e&&t&&(this.adapter.off(".waypoints"),delete n[this.key])},t.prototype.createThrottledResizeHandler=function(){function e(){t.handleResize(),t.didResize=!1}var t=this;this.adapter.on("resize.waypoints",function(){t.didResize||(t.didResize=!0,s.requestAnimationFrame(e))})},t.prototype.createThrottledScrollHandler=function(){function e(){t.handleScroll(),t.didScroll=!1}var t=this;this.adapter.on("scroll.waypoints",function(){t.didScroll&&!s.isTouch||(t.didScroll=!0,s.requestAnimationFrame(e))})},t.prototype.handleResize=function(){s.Context.refreshAll()},t.prototype.handleScroll=function(){var e={},t={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in t){var n=t[i],s=n.newScroll>n.oldScroll,o=s?n.forward:n.backward;for(var a in this.waypoints[i]){var r=this.waypoints[i][a],l=n.oldScroll<r.triggerPoint,d=n.newScroll>=r.triggerPoint,c=l&&d,u=!l&&!d;(c||u)&&(r.queueTrigger(o),e[r.group.id]=r.group)}}for(var h in e)e[h].flushTriggers();this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.innerHeight=function(){return this.element==this.element.window?s.viewportHeight():this.adapter.innerHeight()},t.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},t.prototype.innerWidth=function(){return this.element==this.element.window?s.viewportWidth():this.adapter.innerWidth()},t.prototype.destroy=function(){var e=[];for(var t in this.waypoints)for(var i in this.waypoints[t])e.push(this.waypoints[t][i]);for(var n=0,s=e.length;n<s;n++)e[n].destroy()},t.prototype.refresh=function(){var e,t=this.element==this.element.window,i=this.adapter.offset(),n={};this.handleScroll(),e={horizontal:{contextOffset:t?0:i.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:i.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var s in e){var o=e[s];for(var a in this.waypoints[s]){var r,l,d,c,u,h=this.waypoints[s][a],p=h.options.offset,m=h.triggerPoint,f=0,g=null==m;h.element!==h.element.window&&(f=h.adapter.offset()[o.offsetProp]),"function"==typeof p?p=p.apply(h):"string"==typeof p&&(p=parseFloat(p),h.options.offset.indexOf("%")>-1&&(p=Math.ceil(o.contextDimension*p/100))),r=o.contextScroll-o.contextOffset,h.triggerPoint=f+r-p,l=m<o.oldScroll,d=h.triggerPoint>=o.oldScroll,c=l&&d,u=!l&&!d,!g&&c?(h.queueTrigger(o.backward),n[h.group.id]=h.group):!g&&u?(h.queueTrigger(o.forward),n[h.group.id]=h.group):g&&o.oldScroll>=h.triggerPoint&&(h.queueTrigger(o.forward),n[h.group.id]=h.group)}}for(var v in n)n[v].flushTriggers();return this},t.findOrCreateByElement=function(e){return t.findByElement(e)||new t(e)},t.refreshAll=function(){for(var e in n)n[e].refresh()},t.findByElement=function(e){return n[e.waypointContextKey]},window.onload=function(){o&&o(),t.refreshAll()},s.requestAnimationFrame=function(t){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e).call(window,t)},s.Context=t}(),function(){"use strict";function e(e,t){return e.triggerPoint-t.triggerPoint}function t(e,t){return t.triggerPoint-e.triggerPoint}function i(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},s=window.Waypoint;i.prototype.add=function(e){this.waypoints.push(e)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var n=this.triggerQueues[i],s="up"===i||"left"===i;n.sort(s?t:e);for(var o=0,a=n.length;o<a;o+=1){var r=n[o];(r.options.continuous||o===n.length-1)&&r.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(t){this.waypoints.sort(e);var i=s.Adapter.inArray(t,this.waypoints);return i===this.waypoints.length-1?null:this.waypoints[i+1]},i.prototype.previous=function(t){this.waypoints.sort(e);var i=s.Adapter.inArray(t,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},i.prototype.remove=function(e){var t=s.Adapter.inArray(e,this.waypoints);t>-1&&this.waypoints.splice(t,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(e){return n[e.axis][e.name]||new i(e)},s.Group=i}(),function(){"use strict";function e(e){this.$element=t(e)}var t=window.jQuery,i=window.Waypoint;t.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,i){e.prototype[i]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,e)}}),t.each(["extend","inArray","isEmptyObject"],function(i,n){e[n]=t[n]}),i.adapters.push({name:"jquery",Adapter:e}),i.Adapter=e}(),function(){"use strict";function e(e){return function(){var i=[],n=arguments[0];return e.isFunction(arguments[0])&&(n=e.extend({},arguments[1]),n.handler=arguments[0]),this.each(function(){var s=e.extend({},n,{element:this});"string"==typeof s.context&&(s.context=e(this).closest(s.context)[0]),i.push(new t(s))}),i}}var t=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=e(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}()}),define("optional",[],{load:function(e,t,i){var n=function(e){var t={};return"object"==typeof console&&"function"==typeof console.log&&console.log("The RequireJS Optional plugin is returning the following default response for the module: "+e,t),t},s=function(e){i(e)};t([e],s,function(e){var i=e.requireModules&&e.requireModules[0];"object"==typeof console&&"function"==typeof console.error&&console.error("Failed to load RequireJS module: "+i+"; the Optional plugin is handling the following exception:",e),i&&(requirejs.undef(i),define(i,[],function(){return n(i)}),t([i],s))})}}),define("components/smart-search",["jquery","version!fly/managers/debug","version!fly/managers/tealium","managers/page-vars","version!fly/components/base"],function(e,t,i,n){t=t.init("smartSearch"),e.widget("zdnet.smartSearch",e.fly.base,{options:{},_create:function(){this._setup(),t.log("Initializing smartSearch"),this._setupEvents(),pageType="",n.tracking.data.pageType&&(pageType=n.tracking.data.pageType)},_setupEvents:function(){var i=this;searchOpen=!1,$lastFocusedInput=null,this.$close=this.$element.find('[data-item="close"]'),this.$input=this.$element.find(".smart-search-input"),this.$smartSearchDesktop=this.$element.find(".searchLarge .dropDown"),this.$smartSearchMobile=this.$element.find(".navListMobile .dropDown.forSearch"),this.$overlayIconDesktop=this.$element.find('.searchLarge [data-item="trigger"]'),this.$overlayIconMobile=this.$element.find(".navListMobile .search-trigger"),this.$searchBox=this.$element.find(".box"),this.$overlayIconDesktop.add(this.$overlayIconMobile).click(function(){i._handleClick()}),this.$close.on("click",function(){i._handleClose()}),this.$input.on("input propertychange",function(e){t.log("Form Event");var n=i.$input.val();n.length>0?i.$searchBox.addClass("keypress"):i.$searchBox.removeClass("keypress"),setTimeout(function(){n!=i.$input.val()?t.log("User typing"):i._updateSearchResults()},250),13===e.keyCode&&omnitureMgr.trackEvent("moduleClick",{moduleInfo:"header-search-overlay",pageType:pageType})}),e(".smart-search-input").focus(function(){$lastFocusedInput=e(this)}),e(window).on("resize",function(){i._handleWindowResize()})},_handleWindowResize:function(){$lastFocusedInput&&e(".search-expand").val($lastFocusedInput.val()),this.$input.val().length>0?this.$input.addClass("active-input"):this.$input.removeClass("active-input"),e(".navListMobile").is(":visible")?searchOpen?(e("html").addClass("search-open"),(navigator.userAgent.indexOf("iPad")>-1||navigator.userAgent.indexOf("iPhone")>-1)&&e("html").css("position","fixed"),e("html,body").scrollTop(0),this.$overlayIconMobile.parent().addClass("selected"),this.$smartSearchMobile.addClass("selected"),this.$smartSearchMobile.show()):(this._hideOverlay(),this.$overlayIconDesktop.parent().removeClass("selected"),this.$smartSearchDesktop.removeClass("active")):(e("html").removeClass("search-open"),e("html").css("position","initial"),searchOpen?(this._showOverlay(),this.$overlayIconDesktop.parent().addClass("selected"),this.$smartSearchDesktop.addClass("active")):(this.$overlayIconMobile.parent().removeClass("selected"),this.$smartSearchMobile.removeClass("selected"),this.$smartSearchMobile.hide()))},_updateSearchResults:function(){var n=this,s=this.$input.val();s.length>0?e.ajax({url:"/search/smart-search/xhr/",data:{query:s},type:"GET",dataType:"json",success:function(t){if(!t.error&&n.$input.val().length>0){e(".smart-search-trending-content").addClass("hide");var s=e(".smart-search-results .smart-search-results-list");s.html(t.html).removeClass("hide"),i.initClickTracking(s)}},error:function(){t.log("Error fetching smart search results")}}):(e(".smart-search-trending-content").removeClass("hide"),e(".smart-search-results .smart-search-results-list").addClass("hide"))},_handleClick:function(){this.$overlayIconDesktop.parent().hasClass("selected")||this.$overlayIconMobile.parent().hasClass("selected")?this._handleClose():(0===e(".smart-search-results .smart-search-trending-content").html().length&&this._setupTrendingContentUnit(),omnitureMgr.trackEvent("moduleClick",{moduleInfo:"header-search",pageType:pageType}),searchOpen=!0,e(".navListMobile").is(":visible")?(e("html").addClass("search-open"),(navigator.userAgent.indexOf("iPad")>-1||navigator.userAgent.indexOf("iPhone")>-1)&&e("html").css("position","fixed"),this.$overlayIconMobile.parent().addClass("selected"),this.$smartSearchMobile.show()):(this._showOverlay(),this.$overlayIconDesktop.parent().addClass("selected"),this.$smartSearchDesktop.addClass("active")),this.$input.focus())},_handleClose:function(){omnitureMgr.trackEvent("moduleClick",{moduleInfo:"search-overlay-close",pageType:pageType}),searchOpen=!1,e(".navListMobile").is(":visible")?this.$smartSearchMobile.hide():(this._hideOverlay(),this.$smartSearchDesktop.removeClass("active")),this.$overlayIconDesktop.parent().removeClass("selected"),this.$overlayIconMobile.parent().removeClass("selected"),this.$smartSearchMobile.removeClass("selected"),e("html").removeClass("search-open"),e("html").css("position","initial")},_showOverlay:function(){var t=e('<div id="smart-search-overlay"></div>'),i=this;e("#smart-search-overlay").length||e("body").append(t),t.on("click",function(){i._handleClose()})},_hideOverlay:function(){e("#smart-search-overlay").remove()},_setupTrendingContentUnit:function(){e.ajax({url:"/search/smart-search-trending-content/",type:"GET",dataType:"json",success:function(t){if(!t.error){var n=e(".smart-search-results .smart-search-trending-content");n.html(t.html),i.initClickTracking(n)}},error:function(){t.log("Error fetching smart search trending content")}})}})}),define("components/edition-toggler",["jquery","version!fly/managers/debug","managers/user","utils/cookie","version!fly/components/base"],function(e,t,i,n){t=t.init("editionToggler"),e.widget("zdnet.editionToggler",e.fly.base,{options:{preferredEditionCookie:"fly_preferred_edition"},_create:function(){this._setup(),this._showCurrentEdition(),this._setupEvents()},_showCurrentEdition:function(){e('[data-label="edition"]').text((n.read("fly_preferred_edition")||n.read("fly_default_edition")||"").toUpperCase())},_setupEvents:function(){var i=this;e("[data-edition]",this.$element).on("click",function(s){s.preventDefault();var o=e(this).data("edition");t.log("setting preferred edition cookie from menu value: "+o),n.write(i.options.preferredEditionCookie,o,{expires:365}),window.location.reload(!0)})}})}),define("fly/components/fixate-1.0",["jquery","version!fly/components/base"],function(e){e.widget("fly.fixate",e.fly.base,{options:{classFixed:"fixed",classUnfixed:"unfixed",primaryEdge:"top",offset:{top:20,bottom:20},stickToLeft:!1,stickToRight:!1,guideTop:null,guideBottom:null,guideLeft:null,guideRight:null},hasEvents:!1,isFixed:!1,boundary:{top:-1,bottom:-1,left:-1,right:-1},$element:null,$window:e(window),$document:e(document),_create:function(){this._super("_create"),this._setBoundaries(),this._addEvents(),this.checkPosition()},_addEvents:function(){this.options;this.hasEvents||this.disabled||(this.hasEvents=!0,this.$window.on("scroll.fixate",e.proxy(this.checkPosition,this)),this.$window.on("resize.fixate",e.proxy(this.checkPosition,this)))},_removeEvents:function(){this.hasEvents=!1},_setBoundaries:function(){var t=this.options,i=null,n=null,s=null,o=null,a=null;this.boundary={top:-1,bottom:-1,left:-1,right:-1},t.guideTop&&(n=e(t.guideTop),i=n.offset(),this.boundary.top=i.top+n.outerHeight()),t.guideBottom&&(s=e(t.guideBottom),i=s.offset(),this.boundary.bottom=i.top),t.guideLeft&&(o=e(t.guideLeft),i=o.offset(),t.stickToLeft&&((this.boundary.top<0||i.top>this.boundary.top)&&(this.boundary.top=i.top),(this.boundary.bottom<0||i.top+o.outerHeight()<this.boundary.bottom)&&(this.boundary.bottom=i.top+o.outerHeight()))),t.guideRight&&(a=e(t.guideRight),i=a.offset(),t.stickToRight&&((this.boundary.top<0||i.top>this.boundary.top)&&(this.boundary.top=i.top),(this.boundary.bottom<0||i.top+a.outerHeight()<this.boundary.bottom)&&(this.boundary.bottom=i.top+a.outerHeight())))},_fix:function(){var e=this.options;this.isFixed=!0,this.$element.addClass(e.classFixed).removeClass(e.classUnfixed),"top"===e.primaryEdge?this.$element.css("top",e.offset.top):this.$element.css("top",this.$window.height()-e.offset.bottom-this.$element.height()),this._placeHorizontally()},_unfix:function(e){var t=this.options;this.isFixed=!1,this.$element.addClass(t.classUnfixed).removeClass(t.classFixed),"top"===e?this.$element.css("top",this.boundary.top+t.offset.top-this.$window.scrollTop()):this.$element.css("top",this.boundary.bottom-t.offset.bottom-this.$element.height()-this.$window.scrollTop()),this._placeHorizontally()},_placeHorizontally:function(){var t=this.options,i=this.$window.scrollLeft(),n=null,s=null;t.guideLeft?(n=e(t.guideLeft),this.$element.css("left",n.offset().left+n.outerWidth()-i)):t.guideRight&&(s=e(t.guideRight),this.$element.css("left",s.offset().left-this.$element.width()-i))},checkPosition:function(){var e=this.options,t=this.$window.scrollTop(),i=t+this.$window.height(),n=this.$element.height();this._setBoundaries(),"top"===e.primaryEdge?t<this.boundary.top?this._unfix("top"):this.boundary.bottom>=0&&t+e.offset.top+n+e.offset.bottom>this.boundary.bottom?this._unfix("bottom"):this._fix():i>this.boundary.bottom?this._unfix("bottom"):i-e.offset.bottom-n-e.offset.top<this.boundary.top?this._unfix("top"):this._fix()},destroy:function(){this._removeEvents(),this._super("destroy")}})}),define("components/fixate",["jquery","version!fly/managers/debug","version!fly/components/fixate"],function(e,t){t=t.init("fixate"),e.widget("zdnet.fixate",e.fly.fixate,{_unfix:function(e){var t=this.options;this.isFixed=!1,this.$element.addClass(t.classUnfixed).removeClass(t.classFixed),"top"===e?this.$element.css("top",this.boundary.top+t.offset.top-(this.$window.scrollTop()<0?0:this.$window.scrollTop())):this.$element.css("top",this.boundary.bottom-t.offset.bottom-this.$element.height()-(this.$window.scrollTop()<0?0:this.$window.scrollTop())),this._placeHorizontally()},checkPosition:function(){if(!e(document.body).hasClass("skybox-loaded")){var t=this.options,i=this.$window.scrollTop()<0?0:this.$window.scrollTop(),n=i+this.$window.height(),s=this.$element.height();this._setBoundaries(),"top"===t.primaryEdge?i<this.boundary.top?(this._unfix("top"),this.$element.parent().removeClass("fixed-parent")):this.boundary.bottom>=0&&i+t.offset.top+s+t.offset.bottom>this.boundary.bottom?(this._unfix("bottom"),this.$element.parent().removeClass("fixed-parent")):(this._fix(),this.$element.parent().addClass("fixed-parent")):n>this.boundary.bottom?(this._unfix("bottom"),this.$element.parent().removeClass("fixed-parent")):n-t.offset.bottom-s-t.offset.top<this.boundary.top?(this._unfix("top"),this.$element.parent().removeClass("fixed-parent")):(this._fix(),this.$element.parent().addClass("fixed-parent"))}}})}),define("components/header-nav",["jquery","version!fly/managers/debug","version!fly/components/base"],function(e,t){t=t.init("headerNav"),e.widget("zdnet.headerNav",e.fly.base,{options:{},_create:function(){this._setup();var t=this;this.window=e(window),this._checkWidth(),this.window.resize(function(){t._checkWidth()})},_checkWidth:function(){var e=this.window.width();e<=1e3?(this.element.find("ul.navList > li.alpha").insertBefore("ul.menu-topics > li.alphaDrop"),this.element.find("ul.navList > li.beta").insertAfter("ul.menu-topics > li.alpha"),this.element.find("ul.navList > li.gamma").insertAfter("ul.menu-topics > li.beta")):e<=1115?(this.element.find("ul.navList > li.alpha").insertBefore("ul.menu-topics > li.alphaDrop"),this.element.find("ul.navList > li.beta").insertAfter("ul.menu-topics > li.alpha")):(this.element.find("ul.menu-topics > li.delta").insertBefore("ul.navList > li.epsilon"),this.element.find("ul.menu-topics > li.gamma").insertBefore("ul.navList > li.delta"),this.element.find("ul.menu-topics > li.beta").insertBefore("ul.navList > li.gamma"),this.element.find("ul.menu-topics > li.alpha").insertBefore("ul.navList > li.beta"))}})}),define("components/load-async",["jquery","version!fly/managers/debug","version!fly/managers/tealium","version!fly/components/base"],function(e,t,i){var n=t.get("loadAsync");e.widget("zdnet.loadAsync",e.fly.base,{options:{url:null,data:{},replace:!0,relocate:!1,insertBefore:!1,insertAfter:!1},_create:function(){this.options;this._setup(),this.id=this.$element.attr("id"),this.id||(this.id="uid-"+Math.floor(1e5*Math.random()),this.$element.attr("id",this.id)),n.log("_create: ","container",this.id),this._load()},_load:function(){var t=this.options,i=this;n.log("_load: ","loading",i.id,t.url,t.data),e.ajax({type:"GET",dataType:"json",url:t.url,data:t.data}).done(e.proxy(this._handleSuccess,this)).fail(e.proxy(this._handleFailure,this))},_handleSuccess:function(t){var s=this.options,o=this;n.log("_handleSuccess: ","response success?",t.success,o.id);var a=t.html;if(!a&&t.template&&(a=t.template),t.success&&a){var r;s.relocate&&e(s.relocate).length>0?(r=e(s.relocate).eq(0),s.replace&&r.empty(),s.insertBefore?e(a).insertBefore(r):s.insertAfter?e(a).insertAfter(r):e(a).prependTo(r)):s.replace?o.$element.replaceWith(a):o.$element.html(a),o._trigger("contentSet",null,{content:o.$element}),(r||o.$element).find("[data-omniture-track]").length>0&&i.initClickTracking(r||o.$element)}else o._handleFailure(t);"undefined"!=typeof Waypoint&&Waypoint.refreshAll()},_handleFailure:function(e){var t=(this.options,this);n.log("_handleFailure: ","error message",e,t.id)}})}),define("utils/video-delay-helper",["jquery","version!fly/managers/debug","managers/page-vars","managers/client-storage","version!fly/utils/url-helper"],function(e,t,i,n,s){var t=t.init("video-delay");return{callback:function(o,a){var r=0<e("[data-component=zdnetVideo]").length,l=!("off"===s.getParam("autoplayEnabled")||"off"===n.read("autoplayEnabled")),d=i.video&&i.video.performance&&(i.video.performance.adstart||i.video.performance.contentstart||i.video.performance.showplayoverlay);if(r&&l&&!d&&"mobile"!==i.tracking.data.deviceType){var c="zdnet_video.adstart zdnet_video.contentstart zdnet_video.error zdnet_video.showplayoverlay",u=function(i){t.log(o+" was delayed for video"),a(!0),e(window).off(c,u)};e(window).one(c,u)}else t.log("Loading "+o+" Immediately"),a(!1)}}}),define("components/medusa-async",["jquery","managers/page-vars","version!fly/managers/debug","version!fly/utils/url-helper","utils/cookie","utils/video-delay-helper","components/load-async"],function(e,t,i,n,s,o){var a=i.get("medusaAsync"),r=t.tracking.data,l=void 0!==r.upId&&r.upId>0?r.upId:Math.floor(1e9*Math.random());void 0===r.upId&&(r.upId=l),a.log("upId: "+l),e.widget("zdnet.medusaAsync",e.zdnet.loadAsync,{options:{url:null,data:{}},_create:function(){var e=(this.options,this);o.callback("medusaAsync",function(t){t?a.log("Medusa was delayed for video"):a.log("Loading Medusa regardless of video"),e._initialize()})},_initialize:function(){this._setup(),this.id=this.$element.attr("id"),this.id||(this.id="uid-"+Math.floor(1e5*Math.random()),this.$element.attr("id",this.id)),a.log("_create: ","container",this.id),this._load()},_setup:function(){var i=this.options,o=t.tracking.data,a="",r="";o.topicName&&(a=o.topicName instanceof Array?o.topicName[0]:o.topicName,r=o.topicName instanceof Array?o.topicName.slice(1).toString():"");var d={siteId:o.siteId,rsid:o.rsid,sl:"en",sc:o.siteEdition,pagetype:o.pageType,topicname:a,secondarytopicnames:r,topicbrcrm:o.siteSection,assetguid:o.articleId,assettitle:o.articleTitle,assettype:o.articleType,devicetype:o.deviceType,viewguid:utag_data.pageViewGuid,ursuserid:o.userId,upId:l};e.extend(i.data,d),i.template&&(i.data.template=i.template),this._super(),i.data.upId&&(e.cookie("upid_"+i.data.upId)?i.delay=1e3:s.write("upid_"+i.data.upId,1,{expires:1})),n.getParam("medusaDebug")&&(i.data.medusaDebug=n.getParam("medusaDebug")),"medusa_design"==t.tracking.data.testName&&(i.data.testVariation=t.tracking.data.testGroup)},_load:function(){var t=this.options,i=this;window.ZdnetFunctions.gdpr_consent_callback("script_medusa_async_load",function(){a.log("_load: ","loading",i.id,t.url,t.data),e.ajax({type:"POST",dataType:"json",url:t.url,data:t.data}).done(e.proxy(i._handleSuccess,i)).fail(e.proxy(i._handleFailure,i))})},_handleSuccess:function(e){var i=this.options,n=this;a.log("_handleSuccess: ","response success?",n.id,": ",e.success),a.log("_handleSuccess: ","response data - ",n.id,": ",e),e.success&&e.html?("error_page"===t.pageType&&(e.html=e.html.replace(new RegExp("promo=22149","g"),"promo=2169").replace(new RegExp("promo%3D22149","g"),"promo%3D2169").replace(new RegExp("promo=2149","g"),"promo=2169").replace(new RegExp("promo%3D2149","g"),"promo%3D2169").replace(new RegExp("ftag%3DTRE-00-10aaa3h","g"),"ftag%3DLGN-16-10aab1f").replace(new RegExp("ftag_cd=LGN4f4b3a2","g"),"ftag_cd=LGN-16-10aab1f").replace(new RegExp("ftag%3DLGN4f4b3a2","g"),"ftag%3DLGN-16-10aab1f").replace(new RegExp("promo=2150","g"),"promo=2179").replace(new RegExp("promo%3D2150","g"),"promo%3D2179").replace(new RegExp("ftag_cd=LGN22ef1e6","g"),"ftag_cd=LGN-16-10aab1g").replace(new RegExp("ftag%3DLGN22ef1e6","g"),"ftag%3DLGN-16-10aab1g")),this.$element.html(e.html),this.$element.click(function(e){omnitureMgr.trackEvent("moduleClick",{moduleInfo:"medusa-"+i.template,pageType:r.pageType})}),"undefined"!=typeof dwMgr&&(a.log("fire impression"),dwMgr.trackEvent({mapp:"medusa_app",comptyp:"spot",comp:"ucwc",riaevent:"impression",objtyp:"medusa",objnm:"",s7:""}))):this._handleFailure(e),"undefined"!=typeof Waypoint&&Waypoint.refreshAll()}})}),define("fly/components/modal-1.0",["jquery","version!fly/components/base"],function(e){var t=e.support.touch?"vclick":"click";e.widget("fly.modal",e.fly.base,{options:{content:null,position:"absolute",classModal:"modal",classBackdrop:"modal-backdrop",classShow:"show",classFixed:"fixed",enableKeyEvents:!0,openOnInit:!1,template:null},$modal:null,$backdrop:null,$body:null,isOpen:!1,eventData:{},_create:function(){var i=this.options,n="fixed"===i.position?" "+i.classFixed:"",s={},o={};this._setup(),this.$modal=this.$element.addClass(i.classModal+n),this.$backdrop=e("<div>").addClass(i.classBackdrop+n),this.$body=e(document.body),this.top=parseInt(this.$modal.css("top"),10),i.content&&this.setContent(i.content),this.eventData={$modal:this.$modal,$backdrop:this.$backdrop},s[t]="_handleClose",o[t+' [data-close="modal"]']="_handleClose",this._on(this.$backdrop,s),this._on(this.$modal,o)},_init:function(){this.options.openOnInit&&this.open()},_handleKeyboard:function(e){27==e.keyCode&&this.close()},_handleClose:function(e){e.preventDefault(),this.close()},open:function(){var e=this.options;this.isOpen||!1!==this._trigger("open",null,this.eventData)&&(this.$backdrop.addClass(e.classShow).appendTo(this.$body),this.$modal.addClass(e.classShow).appendTo(this.$body),this.position(),
e.enableKeyEvents&&this._on(this.$document,{keyup:"_handleKeyboard"}),this.isOpen=!0,this._trigger("opened",null,this.eventData))},close:function(){var e=this.options;this.isOpen&&!1!==this._trigger("close",null,this.eventData)&&(this.$backdrop.removeClass(e.classShow),this.$modal.removeClass(e.classShow),this._off(this.$document,"keyup"),this.isOpen=!1,this._trigger("closed",null,this.eventData))},setContent:function(t){var i,n=this.options,s=this,o=e(t);o.hasClass(n.classModal)&&(o.removeClass(n.classModal),i=o.prop("attributes"),e.each(i,function(){"class"===this.name?s.$modal.addClass(this.value):s.$modal.attr(this.name,this.value)}),o=o.children()),this.$modal.empty().append(o),this._trigger("contentSet",null,e.extend({},this.eventData,{$modal:this.$modal,$content:o}))},position:function(){var e=this.options,t=this.$window.height(),i=isNaN(this.top)?(t-this.$modal.outerHeight())/3:this.top;i<20&&(i=20),"absolute"==e.position&&(i+=this.$window.scrollTop(),this.$backdrop.css({height:this.$document.height()})),this.$modal.css({top:i}),this._trigger("positioned",null,{$modal:this.$modal})},_destroy:function(){this.$backdrop.remove()}}),e(document).on(t+".modal-api.data-api",'[data-open="modal"]',function(t){var i=e(this),n=i.data(),s=n.$modal;t.preventDefault(),s||(s=e(n.target||i.attr("href")),i.data("$modal",s)),s.length&&s.modal().modal("open")})}),define("components/modal",["jquery","version!fly/managers/debug","version!fly/components/modal"],function(e,t){var i=e.support.touch?"vclick":"click";t=t.init("modal"),e.widget("zdnet.modal",e.fly.modal,{_create:function(){var t=this.options,n="fixed"===t.position?" "+t.classFixed:"",s={},o={};this._setup(),this.$modal=this.$element.addClass(t.classModal+n),this.$backdrop=e("<div>").addClass(t.classBackdrop+n),this.$body=e(document.body),t.content&&this.setContent(t.content),this.eventData={$modal:this.$modal,$backdrop:this.$backdrop},s[i]="_handleClose",o[i+' [data-close="modal"]']="_handleClose",this._on(this.$backdrop,s),this._on(this.$modal,o)}})}),define("fly/utils/string-vars-1.0",["jquery"],function(e){return{compile:function(t,i,n){var s=this;return"string"!=typeof t?"":(n=e.makeArray(n),t=t.replace(/\{([^}]+)\}/g,function(t){var o=n,a="";return t=t.replace(/\|[^\}|]+/g,function(e){return o.push(e.substr(1)),""}),a=i[t.replace(/[{}]+/g,"")]||"",e.each(o,function(e,t){a=s.modify(t,a)}),a}))},modify:function(e,t){switch(e){case"lower":t=t.toLowerCase();break;case"upper":t=t.toUpperCase();break;case"urlencode":t=encodeURIComponent(t)}return t}}}),define("fly/components/loading-1.0",["jquery","version!fly/utils/string-vars","version!fly/components/base"],function(e,t){e.widget("fly.loading",e.fly.base,{options:{disabled:!1,delay:100,timeout:25e3,initState:"",template:'<div class="{baseClass} {stateClass}"><span class="text">{text}</span></div>',classes:{base:"loader",idle:"",loading:"loading",end:"load-end",error:"load-error"},text:{idle:"",loading:"Loading",end:"The End",error:"Error Encountered :("}},_create:function(){this._setup(),this._state=null,this._timeoutId=null},_init:function(){var e=this.options;!e.disabled&&e.initState&&(this._setContent(e.initState),this._state=e.initState)},_setContent:function(i,n){var s,o=this.options;if("remove"===i)return void this.$element.empty();s=t.compile(o.template,e.extend({state:i,baseClass:o.classes.base,stateClass:o.classes[i],text:o.text[i]},n)),this.$element.html(s)},add:function(){var t=this.options;!1!==this._trigger("add")&&(this.update("loading"),"number"==typeof t.timeout&&t.timeout>0&&(this._timeoutId=setTimeout(e.proxy(this.remove,this),t.timeout)),this._trigger("added"))},remove:function(){!1!==this._trigger("remove")&&(this.update("remove"),this._trigger("removed"))},update:function(e,t){var i=this.options,n={state:e};!1!==this._trigger("update",null,n)&&(this._state=e,i.disabled||(clearTimeout(this._timeoutId),this._setContent(e,t),this._trigger("updated",null,n)))},isLoading:function(){return"loading"===this._state},getState:function(){return this._state},_setOption:function(e,t){var i=this.options;"data"===e?this.$element.data("data",t):"disabled"===e&&(!0===t?this.$element.empty():this._setContent(i.initState)),this._super(e,t)},_destroy:function(){this.$element.remove()}})}),define("components/modal-async",["jquery","version!fly/managers/debug","version!fly/utils/object-helper","components/modal","version!fly/components/loading","version!fly/utils/data-prefix"],function(e,t,i){var n=e.support.touch?"vclick":"click",t=t.init("modalAsync");e.widget("zdnet.modalAsync",e.zdnet.modal,{options:{url:null,requestData:{},responseKey:"modal",loader:{disabled:!1},place:!1},isContentLoaded:!1,_create:function(){var t=this.options,i="fixed"===t.position?" "+t.classFixed:"",s={},o={},a={};this._setup(),this.$body=e(document.body),this.$modal=e("<div>").addClass(t.classModal+i).appendTo(this.$body),this.$backdrop=e("<div>").addClass(t.classBackdrop+i),this.top=parseInt(this.$element.css("top"),10),this.eventData={$modal:this.$modal,$backdrop:this.$backdrop},s[n]="_handleClose",o[n+' [data-close="modal"]']="_handleClose",a[n]="open",this._on(this.$backdrop,s),this._on(this.$modal,o),this._on(this.$element,a),this._setupLoader()},open:function(){var e=this.options;this.isOpen||(this.isContentLoaded||this.loadContent(),!1!==this._trigger("open",null,this.eventData)&&(this.$backdrop.addClass(e.classShow).appendTo(this.$body),this.$modal.addClass(e.classShow).appendTo(this.$body),this.position(),e.enableKeyEvents&&this._on(this.$document,{keyup:"_handleKeyboard"}),this.isOpen=!0,this._trigger("opened",null,this.eventData)))},_setupLoader:function(){this.loader=e.fly.loading(this.options.loader),this.loader.$element.appendTo(this.$modal)},loadContent:function(){var t=this.options,n=this;this.loader.add(),e.ajax({dataType:"json",url:t.url,data:t.requestData}).done(function(s){var o=i.deepFind(s,t.responseKey)||{},a=o.html;if(!a)return void n.destroy();n._trigger("contentLoaded",null,e.extend({},this.eventData,{content:a})),n.isContentLoaded=!0,n.setContent(a),n.$backdrop.css({height:n.$document.height()})}).fail(function(e,t){n.destroy()}).always(function(){n.loader.remove()})},position:function(){var e=this.options,t=this.$window.height(),i=isNaN(this.top)?(t-this.$modal.outerHeight())/3:this.top;i<20&&(i=20),"absolute"==e.position&&("top"==e.place?i=this.$window.scrollTop():i+=this.$window.scrollTop(),this.$backdrop.css({height:this.$document.height()})),this.$modal.css({top:i}),this._trigger("positioned",null,{$modal:this.$modal})},_destroy:function(){this._trigger("destroy"),this._super(),this.$modal.remove()}}),e(document).on(n+".modalAsync-api.data-api",'[data-open="modalAsync"]',function(t){var i,n=e(this),s=n.data(),o=s.$modal;n.data("modalOptions").checkIE?$checkIE=n.data("modalOptions").checkIE:$checkIE=!1,!$checkIE||-1==navigator.appVersion.indexOf("MSIE 8.")&&-1==navigator.appVersion.indexOf("MSIE 7.")?(t.preventDefault(),t.stopImmediatePropagation(),o?o.open():(i=n.data("modalAsyncOptions")||n.dataPrefix("modalAsync"),o=e.fly.modalAsync(e.extend(!0,{},{openOnInit:!0,destroy:function(){n.removeData("$modal")}},i)),n.data("$modal",o))):($url="//"+location.host+n.attr("href"),window.open($url))})}),define("fly/libs/jquery.throttle-debounce-1.1",["jquery"],function(e){"$:nomunge";var t;e.throttle=t=function(t,i,n,s){function o(){function e(){r=+new Date,n.apply(l,c)}function o(){a=void 0}var l=this,d=+new Date-r,c=arguments;s&&!a&&e(),a&&clearTimeout(a),void 0===s&&d>t?e():!0!==i&&(a=setTimeout(s?o:e,void 0===s?t-d:t))}var a,r=0;return"boolean"!=typeof i&&(s=n,n=i,i=void 0),e.guid&&(o.guid=n.guid=n.guid||e.guid++),o},e.debounce=function(e,i,n){return void 0===n?t(e,i,!1):t(e,n,!1!==i)}}),define("managers/waypoints",["jquery","version!fly/managers/debug","libs/jquery/jquery.waypoints","version!fly/libs/jquery.throttle-debounce"],function(e,t){t=t.init("waypoints");var i=!1;return{init:function(){i||(i=!0,e(window).on("scroll",e.throttle(1e3,function(){Waypoint.refreshAll(),t.log("fresh!")})))}}}),define("libs/jquery/waypoints.sticky",["jquery","libs/jquery/jquery.waypoints"],function(){"use strict";function e(i){this.options=$.extend({},t.defaults,e.defaults,i),this.element=this.options.element,this.$element=$(this.element),this.createWrapper(),this.createWaypoint()}var t=window.Waypoint;e.prototype.createWaypoint=function(){var e=this.options.handler;this.waypoint=new t($.extend({},this.options,{element:this.wrapper,handler:$.proxy(function(t){var i=this.options.direction.indexOf(t)>-1,n=i?this.$element.outerHeight(!0):"";this.$wrapper.height(n),i&&this.$wrapper.hide().show(0),this.$element.toggleClass(this.options.stuckClass,i),e&&e.call(this,t)},this)}))},e.prototype.createWrapper=function(){this.$element.wrap(this.options.wrapper),this.$wrapper=this.$element.parent(),this.wrapper=this.$wrapper[0]},e.prototype.destroy=function(){this.$element.parent()[0]===this.wrapper&&(this.waypoint.destroy(),this.$element.removeClass(this.options.stuckClass).unwrap())},e.defaults={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"},t.Sticky=e}),define("components/scrolling-mpu",["jquery","version!fly/managers/debug","managers/waypoints","libs/jquery/jquery.waypoints","libs/jquery/waypoints.sticky","version!fly/components/base"],function(e,t,i){var n=(e.support.touch,t.init("scrollingMpu"));i.init(),e.widget("zdnet.scrollingMpu",e.fly.base,{options:{},_create:function(){var e=this;this._setup(),e._setupWaypoints(),n.log("Scrolling MPU init")},_setupWaypoints:function(){var t=this,i=this.$element.closest(".row"),s=this.$element.closest(".col-4");sticky=new Waypoint.Sticky({element:t.$element,stuckClass:"fixed",offset:function(){return e(document.body).hasClass("skybox-loaded")?190:90}});i.waypoint({handler:function(e){if("down"==e){n.log(this.element,"Fixing MPU to Bottom of container");var o=i.height()-s.height();n.log("Bottom Height:",o),o>t.$element.height()?(t.$element.css("bottom","-"+o+"px"),t.$element.addClass("bottom-fixed")):t.$element.removeClass("fixed")}else"up"==e&&(n.log(this.element,"Unfixing MPU from bottom of container"),t.$element.removeClass("bottom-fixed"),t.$element.css("bottom",""))},offset:function(){return e(document.body).hasClass("skybox-loaded")?-(this.element.clientHeight-t.$element.height()-200):-(this.element.clientHeight-t.$element.height()-100)}});n.log("Scrolling MPU waypoints set")}})}),define("components/footer-sites",["jquery","version!fly/managers/debug","managers/page-vars","version!fly/components/base"],function(e,t,i){e.widget("zdnet.footerSites",e.fly.base,{_create:function(){this._setup(),this._setupEvents()},_setupEvents:function(){var e={};e["change#cbsiSites"]="_handleFooterSites",this._on(this.$document,e)},_handleFooterSites:function(t){t.preventDefault();var n="";i.tracking.data.pageType&&(n=i.tracking.data.pageType),omnitureMgr.trackEvent("moduleClick",{moduleInfo:"footer_othersites",pageType:n}),window.location=e("#cbsiSites option:selected").val()}})}),define("components/user-tracking",["jquery","utils/cookie","managers/page-vars","version!fly/managers/debug","version!fly/components/base",window.ZdnetPageVars.services.tealium.enabled?"optional!tealium":""],function(e,t,i,n){var s=e.support.touch?"vclick":"click";n=n.init("userTracking"),e.widget("zdnet.userTracking",e.fly.base,{options:{},_create:function(){this._setup();var e={};e[s]="_handleClick",this._on(this.$element,e),null!==t.read("AuthenticationSuccessTracking")&&this._fireAuthenticationTracking(t.read("AuthenticationSuccessTracking"))},_handleClick:function(t){var i=e(t.target).closest("[data-user-show]").data("user-show");i&&this._fireClickTracking(i)},_fireClickTracking:function(e){if("login"===e.action)omnitureMgr.trackEvent("trackOpenLoginForm",{location:e.params.position,position:e.params.position});else if("register"===e.action){var t=this._getRegFormType(e.params.appId);omnitureMgr.trackEvent("trackRegistrationOpen",{registrationFormType:t,position:e.params.position,location:e.params.position})}else"forgot-password"===e.action&&omnitureMgr.trackEvent("forgotPassword",{registrationFormType:appId})},_fireAuthenticationTracking:function(n){if(n&&(n=e.parseJSON(n)),"login"===n.track)omnitureMgr.trackEvent("trackLogin",{location:n.position});else if("registration"===n.track){var s=this._getRegFormType(n.appId);omnitureMgr.trackEvent("newRegistration",{registrationFormType:s,position:n.position,location:n.position})}t.erase("AuthenticationSuccessTracking",{path:"/",domain:i.user.cookieDomain})},_getRegFormType:function(e){return e+"|"+{1100:"long",1101:"short",1109:"comment",1110:"newsletters",1112:"downloads"}[e]}})}),function(e,t,i,n){var s=e(t);e.fn.lazyload=function(n){function o(){var t=0;r.each(function(){var i=e(this);if(!l.skip_invisible||i.is(":visible"))if(e.abovethetop(this,l)||e.leftofbegin(this,l));else if(e.belowthefold(this,l)||e.rightoffold(this,l)){if(++t>l.failure_limit)return!1}else i.trigger("appear"),t=0})}var a,r=this,l={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return n&&(void 0!==n.failurelimit&&(n.failure_limit=n.failurelimit,delete n.failurelimit),void 0!==n.effectspeed&&(n.effect_speed=n.effectspeed,delete n.effectspeed),e.extend(l,n)),a=void 0===l.container||l.container===t?s:e(l.container),0===l.event.indexOf("scroll")&&a.bind(l.event,function(){return o()}),this.each(function(){var t=this,i=e(t);t.loaded=!1,void 0!==i.attr("src")&&!1!==i.attr("src")||i.is("img")&&i.attr("src",l.placeholder),i.one("appear",function(){if(!this.loaded){if(l.appear){var n=r.length;l.appear.call(t,n,l)}e("<img />").bind("load",function(){var n=i.attr("data-"+l.data_attribute);i.hide(),i.is("img")?i.attr("src",n):i.css("background-image","url('"+n+"')"),i[l.effect](l.effect_speed),t.loaded=!0;var s=e.grep(r,function(e){return!e.loaded});if(r=e(s),l.load){var o=r.length;l.load.call(t,o,l)}}).attr("src",i.attr("data-"+l.data_attribute))}}),0!==l.event.indexOf("scroll")&&i.bind(l.event,function(){t.loaded||i.trigger("appear")})}),s.bind("resize",function(){o()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&s.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&r.each(function(){e(this).trigger("appear")})}),e(i).ready(function(){o()}),this},e.belowthefold=function(i,n){return(void 0===n.container||n.container===t?(t.innerHeight?t.innerHeight:s.height())+s.scrollTop():e(n.container).offset().top+e(n.container).height())<=e(i).offset().top-n.threshold},e.rightoffold=function(i,n){return(void 0===n.container||n.container===t?s.width()+s.scrollLeft():e(n.container).offset().left+e(n.container).width())<=e(i).offset().left-n.threshold},e.abovethetop=function(i,n){return(void 0===n.container||n.container===t?s.scrollTop():e(n.container).offset().top)>=e(i).offset().top+n.threshold+e(i).height()},e.leftofbegin=function(i,n){return(void 0===n.container||n.container===t?s.scrollLeft():e(n.container).offset().left)>=e(i).offset().left+n.threshold+e(i).width()},e.inviewport=function(t,i){return!(e.rightoffold(t,i)||e.leftofbegin(t,i)||e.belowthefold(t,i)||e.abovethetop(t,i))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document),define("libs/jquery/lazyload-1.9.3",function(){}),define("components/lazyload-images",["jquery","version!fly/components/base","version!libs/jquery/lazyload"],function(e){e.widget("zdnet.lazyloadImages",e.fly.base,{options:{threshold:300,skip_invisible:!1},_create:function(){this._super(),this._setupEvents(),this._lazyLoadImages()},_setupEvents:function(){this._on(this.$element,{ajaxStop:this._lazyLoadImages})},_lazyLoadImages:function(){this.$element.find("img.lazy").lazyload(this.options).removeClass("lazy")}})}),define("components/medusa-recommendation-1.0",["jquery","version!fly/managers/debug","managers/page-vars"],function(e,t,i){var n=t.init("medusaContentRecommendation"),s=i.tracking.data,o=void 0!==s.upId&&s.upId>0?s.upId:Math.floor(1e9*Math.random());void 0===s.upId&&(s.upId=o),n.log("upId: "+o),e.widget("fly.medusaContentRecommendation",e.fly.base,{options:{promo:null,spot:null},_create:function(){this._setup(),this._adBlockerCheck()},_getMedusaContent:function(t){if(t){var i=this.options,a=this,r="";s.topicName&&(r=s.topicName instanceof Array?s.topicName[0]:s.topicName);var l=(s.deviceType,"/m3d0s1/recommendation/"+i.spot+"/");e.ajax({url:l,type:"POST",data:{siteId:s.siteId,rsid:s.rsid,sl:"en",sc:s.siteEdition,pagetype:s.pageType,topicname:r,topicbrcrm:s.siteSection,assetguid:s.articleId,assettitle:s.articleTitle,assettype:s.articleType,ftag_cd:s["qp.ftag"],devicetype:s.deviceType,viewguid:s.pageViewGuid,ursuserid:s.userId,promo:i.promo,upId:o},complete:function(){},success:function(e){if(n.log("_getMedusaContent: ","successful ajax to /m3d0s1/recommendation/"+i.spot,"response: ",e),e.success&&e.html.trim()){var t=a.$element;n.log("this.$element",a.$element),t.wrap("<div>"),t.parent().append(e.html),t.hasClass("scrolling-mpu")&&t.hide();var s='class="'+i.spot+'"';new RegExp(s).test(e.html)&&a._setTracking()}else n.log("_getMedusaContent: ","error within ajax to /m3d0s1/recommendation/"+i.spot,e.error,t)},error:function(){n.log("_getMedusaContent: ","failed ajax to /m3d0s1/recommendation/"+i.spot)}})}},_adBlockerCheck:function(){var e=this,t=void 0!==i.adBlockEnabled?i.adBlockEnabled:null;window.ZdnetFunctions.gdpr_consent_callback("script_medusa_recommendation",function(){null===t?require(["utils/advertisement"],function(){i.adBlockEnabled=!1,t=!1,e._getMedusaContent(t)},function(n){i.adBlockEnabled=!0,t=!0,e._getMedusaContent(t)}):e._getMedusaContent(t)})},_setTracking:function(){var t=this.options;e("."+t.spot+" a").click(function(){omnitureMgr.trackEvent("moduleClick",{moduleInfo:"medusa-"+t.spot,pageType:s.pageType})}),"undefined"!=typeof dwMgr&&(n.log("fire impression"),dwMgr.trackEvent({mapp:"medusa_app",comptyp:"spot",comp:"ucwc",riaevent:"impression",objtyp:"medusa",objnm:"",s7:""}))}})}),define("managers/social/social-flags",[],function(){return{enabled:{linkedin:!1,pinterest:!1,twitter:!1,facebook:!1,disqus:!0}}}),define("managers/social/facebook",["jquery","version!fly/managers/debug","managers/social/social-flags"],function(e,t,i){t=t.init("facebook");var n=!1,s={fbOptions:{appId:"136759700898",channelUrl:"//"+document.domain+"/html/facebook/channel.html",status:!0,cookie:!0,xfbml:!0,version:"v2.0"},onInit:null,debug:!1};return{init:function(o){var a=this;i.enabled.facebook&&(e.extend(!0,s,o),n?s.onInit&&s.onInit():(e("#fb-root").length<=0&&e('<div id="fb-root"></div>').appendTo(e("body")),window.fbAsyncInit=function(){FB.init(s.fbOptions),n=!0,a.setupEvents(),s.onInit&&s.onInit(),t.log("Initialized"),delete window.fbAsyncInit},window.ZdnetFunctions.gdpr_consent_callback("script_facebook",function(){require(["facebook"+(s.debug?"-debug":"")])})))},parse:function(e){if(n)try{e?FB.XFBML.parse(e):FB.XFBML.parse()}catch(e){t.log("FB failed to parse the page",e)}else t.log("Parse failed -- not initialized yet")},isInitialized:function(){return n},setupEvents:function(){var i=this;t.log("Setting up events");var n=e('[data-popup="facebook"]');n.length>0&&n.click(function(e){i.trackShare(!1,e)}),FB.Event.subscribe("edge.create",function(e,n){t.log("Liked");var s={wdloc:n._attr.ref};i.trackLike(s,n)}),FB.Event.subscribe("edge.remove",function(e,n){t.log("Unliked");var s={wdloc:n._attr.ref};i.trackUnlike(s,n)})},trackShare:function(i,n){var s=e(n.target).closest("[data-location]").data("location");t.log("Facebook Clicked!",s,n),dwMgr.trackSocialShare(this,{eventt:"share",lite_event_category:"social",ssite:"facebookSend",wd:"sharebar",wdloc:"body"}),omnitureMgr.trackEvent("clickSocialShare",{socialCode:omnitureMgr.getSocialCode("facebookSend"),location:s})},trackLike:function(e,t){dwMgr.trackSocialShare(this,{eventt:"share",lite_event_category:"social",ssite:"facebook",wd:"sharebar",wdloc:e.wdloc}),omnitureMgr.trackEvent("clickSocialShare",{socialCode:omnitureMgr.getSocialCode("facebook")})},trackUnlike:function(e){}}}),define("managers/social/linkedin",["jquery","version!fly/managers/debug","managers/social/social-flags"],function(e,t,i){t=t.init("linkedin");var n=!1,s={onInit:null};return{init:function(o){var a=this;i.enabled.linkedin&&(e.extend(!0,s,o),n?s.onInit&&s.onInit():window.ZdnetFunctions.gdpr_consent_callback("script_linkedin",function(){require(["linked-in"],function(){window.linkedInOnLoad=function(){n=!0,s.onInit&&s.onInit(),delete window.linkedInOnLoad,a.setupEvents(),t.log("Initialized")},IN.init({onLoad:"linkedInOnLoad"})})}))},parse:function(e){n?e?IN.parse(e):IN.parse(document.body):t.log("Parse failed -- not initialized yet")},isInitialized:function(){return n},setupEvents:function(){var i=this;t.log("Setting up events");var n=e('[data-popup="linkedin"]');n.length>0&&n.click(function(e){t.log("LinkedIn Clicked!"),i.trackShare(e)}),IN.Event.on(IN,"click",function(e){t.log("Shared"),i.trackShare(e)})},trackShare:function(i){var n=e(i.target).closest("[data-location]").data("location");t.log("LinkedIn Clicked!",n,i),dwMgr.trackSocialShare(i,{eventt:"share",lite_event_category:"social",ssite:"linkedin",wd:"sharebar",wdloc:"body"}),omnitureMgr.trackEvent("clickSocialShare",{socialCode:omnitureMgr.getSocialCode("linkedin"),location:n})}}}),define("managers/social/twitter",["jquery","version!fly/managers/debug","managers/social/social-flags"],function(e,t,i){t=t.init("twitter");var n=!1,s={onInit:null};return{init:function(o){var a=this;i.enabled.twitter&&(e.extend(!0,s,o),n?s.onInit&&s.onInit():(window.twttr=e.extend(!0,{_e:[],ready:function(e){window.twttr._e.push(e)}},window.twttr),twttr.ready(function(){n=!0,a.setupEvents(),s.onInit&&s.onInit(),t.log("Initialized")}),require(["twitter"])))},parse:function(){n?twttr.widgets.load():t.log("Parse failed -- not initialized yet")},isInitialized:function(){return n},setupEvents:function(){var i=this;t.log("Setting up events");var n=e('[data-popup="twitter"]');n.length>0&&n.click(function(e){t.log("Twitter Clicked!"),i.trackTweet(!1,e)}),twttr.events.bind("follow",function(e){t.log("Followed");var n={};i.trackFollow(n,e)}),twttr.events.bind("tweet",function(e){t.log("Tweeted");var n={};i.trackTweet(n,e)}),twttr.events.bind("click",function(n){t.log("Clicked");var s=e(n.target).attr("title");"Twitter Tweet Button"==s?i.trackTweet(!1,n):"Twitter Follow Button"==s&&i.trackFollow(!1,n)})},trackFollow:function(i,n){var s=e(n.target).closest("[data-location]").data("location");t.log("Twitter Clicked!",s,n),dwMgr.trackSocialShare(this,{eventt:"share",lite_event_category:"social",ssite:"twitterFollow",wd:"sharebar",wdloc:"body"}),omnitureMgr.trackEvent("clickSocialShare",{socialCode:omnitureMgr.getSocialCode("twitterFollow")})},trackTweet:function(i,n){var s=e(n.target).closest("[data-location]").data("location");t.log("Twitter Clicked!",s,n),dwMgr.trackSocialShare(this,{eventt:"share",lite_event_category:"social",ssite:"twitter",wd:"sharebar",wdloc:"body"}),omnitureMgr.trackEvent("clickSocialShare",{socialCode:omnitureMgr.getSocialCode("twitter"),location:s})}}}),define("managers/edition",["jquery","version!fly/managers/debug","managers/page-vars"],function(e,t,i){t=t.init("edition");var n={as:{code:"as",name:"Asia",language:"en"},au:{code:"au",name:"Australia",language:"en"},eu:{code:"eu",name:"Europe",language:"en"},in:{code:"in",name:"India",language:"en"},uk:{code:"uk",name:"United Kingdom",language:"en"},us:{code:"us",name:"United States",language:"en"}},s=i.edition;return{getEdition:function(e){return n[e||s.code].code},getName:function(e){return n[e||s.code].name},getLanguage:function(e){return n[e||s.code].language},isAsia:function(){return s.code===n.as.code},isAustralia:function(){return s.code===n.au.code},isEurope:function(){return s.code===n.eu.code},isIndia:function(){return s.code===n.in.code},isUnitedKingdom:function(){return s.code===n.uk.code},isUnitedStates:function(){return s.code===n.us.code},isLanguageEnglish:function(){return"en"===n[s.code].language},isLanguageEspanol:function(){return"es"===n[s.code].language}}}),define("translations/form-validate",["managers/edition"],function(e){return{en:{required:{field:"This field is required",radio:"One of these fields is required"},availableEmail:"This e-mail is already in use. Please choose another.",availableUsername:"This user name is already in use. Please choose another.",minlength:"This field must be at least {minlength} characters with one special character or number. No spaces.",maxlength:"This field must be at least {maxlength} characters with one special character or number. No spaces.",email:"E-mail format invalid.",noUrl:"A url is not allowed in this field",noSpecialCharacters:"The special characters @, &, and % are not allowed in this field",equalTo:"Fields do not match",usernameSpecialCharacters:'Please use only alphanumeric characters, underscores "_", and dashes "-"',usernameCharacterLength:"Your username must be at least 3 and no more than 25 characters.",recaptchaFail:"There was an error while processing your request. Please refresh the page and try again.",emailSuccess:"Your email has been sent.",emailError:"There was an error while sending your request. Please try again.",fileFail:"There was an error while trying to upload your file. Please try again.",filesizeFail:"File size exceeds the allowed limit.",tipsSuccess:"Thank you! Your tip has been sent.",alertError:"An error has occured while subscribing to this alert. Please try again.",emailEmptyBody:"Message cannot be blank.",validPassword:"Password must be a minimum of 6 characters and have any 3 of the 4 items: a number, a special character, an uppercase character or a lowercase character (no spaces)."}}[e.getLanguage()]}),define("translations/loading",["managers/edition"],function(e){return{en:{loading:"Loading",end:"The End",error:"Error Encountered"}}[e.getLanguage()]}),define("components/loading",["jquery","version!fly/managers/debug","translations/loading","version!fly/components/loading"],function(e,t,i){t=t.init("loading"),e.widget("zdnet.loading",e.fly.loading,{options:{classes:{base:"loader",idle:"",loading:"loading",end:"load-end",error:"load-error"},text:i},add:function(){this._super(),this.$element.parent().addClass("loadingArea")},remove:function(){this._super(),this.$element.parent().removeClass("loadingArea")}})}),define("fly/components/modal-async-1.0",["jquery","version!fly/utils/object-helper","version!fly/components/modal","version!fly/components/loading","version!fly/utils/data-prefix"],function(e,t){var i=e.support.touch?"vclick":"click";e.widget("fly.modalAsync",e.fly.modal,{options:{url:null,requestData:{},responseKey:"modal",loader:{disabled:!1}},isContentLoaded:!1,_create:function(){this._super(),this._setupLoader()},open:function(){this.isOpen||(this.isContentLoaded||this.loadContent(),this._super())},_setupLoader:function(){this.loader=e.fly.loading(this.options.loader),this.loader.$element.appendTo(this.$element)},loadContent:function(){var i=this.options,n=this;this.loader.add(),e.ajax({dataType:"json",url:i.url,data:i.requestData}).done(function(s){var o=t.deepFind(s,i.responseKey)||{},a=o.html;if(!a)return void n.destroy();n._trigger("contentLoaded",null,e.extend({},this.eventData,{content:a})),n.isContentLoaded=!0,n.setContent(a),n.$backdrop.css({height:n.$document.height()})}).fail(function(e,t){n.destroy()}).always(function(){n.loader.remove()})},_destroy:function(){this._trigger("destroy"),this._super(),this.$modal.remove()}}),e(document).on(i+".modalAsync-api.data-api",'[data-open="modalAsync"]',function(t){var i,n=e(this),s=n.data(),o=s.$modal;n.data("modalOptions").checkIE?$checkIE=n.data("modalOptions").checkIE:$checkIE=!1,!$checkIE||-1==navigator.appVersion.indexOf("MSIE 8.")&&-1==navigator.appVersion.indexOf("MSIE 7.")?(t.preventDefault(),t.stopImmediatePropagation(),o?o.open():(i=n.data("modalAsyncOptions")||n.dataPrefix("modalAsync"),o=e.fly.modalAsync(e.extend(!0,{},{openOnInit:!0,destroy:function(){n.removeData("$modal")}},i)),n.data("$modal",o))):($url="//"+location.host+n.attr("href"),window.open($url))})}),define("components/alert-1.0",["jquery","version!fly/managers/debug","managers/user","translations/form-validate","version!fly/components/base","components/loading","version!fly/components/modal-async"],function(e,t,i,n){var s=e.support.touch?"vclick":"click",o=e.zdnet.loading();debug=t.init("alert"),e.widget("zdnet.alert",e.fly.base,{options:{modalAsync:{url:"/members/author-alert/xhr/",requestData:{alertSubject:"",alertAuthorId:""}}},modal:null,_create:function(){this._setup(),this._setupEvents()},_setupEvents:function(){var e={};e[s]="_handleAsyncModal",this._on(this.$element,e)},_handleAsyncModal:function(t){var n=this,s=this.options;t.preventDefault(),this.modal&&this.modal.$element.remove(),omnitureMgr&&omnitureMgr.trackEvent("shareBarAlerts",{location:this.$element.data("location")}),i.hasAccess({position:"alerts",nextAction:function(){return this.modal=e.fly.modalAsync(e.extend(!0,{},{openOnInit:!0},s.modalAsync)),this.modal.$element.addClass("author-alert"),o.$element.appendTo(this.modal.$element),o.add(),this.modal.$element.on("modalasynccontentset",function(e,t){n._handleAlertEvents(t.$modal)}),!1}})},_handleAlertEvents:function(t){o.remove();var i=e(t.find("form")),s=i.find("button");o.$element.appendTo(i),i.formValidate({success:function(a,r){a.preventDefault();var l=i.serialize();s.attr("disabled","disabled"),o.add(),e.ajax({url:i.attr("action"),type:i.attr("method"),data:l,dataType:"json"}).done(function(e){debug.log("success",e),e.errors?i.data("formValidate").addGlobalError(n.alertError,"error"):t.html(e.modal.html)}).fail(function(e){debug.log("error",e),i.data("formValidate").addGlobalError(n.alertError,"error"),s.removeAttr("disabled")}).always(function(e){debug.log("complete",e),o.remove()})}})}})}),define("fly/components/dropdown-1.0",["jquery","version!fly/components/base"],function(e){var t="ontouchstart"in window||"onmsgesturechange"in window,i=e.mobile?"vclick":"click";e.widget("fly.dropdown",e.fly.base,{options:{classSelected:"selected",event:"click",selectorTrigger:'[data-item="trigger"]'},$element:null,$trigger:null,enterTimeout:null,leaveTimeout:null,_create:function(){var e=this.options,n={};this._setup(),t&&(e.event="click"),this.$element=this.$element,this.$trigger=this.$element.find(e.selectorTrigger).first(),"click"===e.event?(n[i]="_handleClick",this._on(this.$trigger,n)):"hover"===e.event&&this._on(this.$element,{mouseenter:"_handleMouseEnter",mouseleave:"_handleMouseLeave"})},_handleClick:function(e){e.preventDefault(),this.toggle()},_handleMouseEnter:function(e){var t=this;clearTimeout(this.leaveTimeout),this.enterTimeout=setTimeout(function(){t.show()},50)},_handleMouseLeave:function(e){var t=this;clearTimeout(this.enterTimeout),this.leaveTimeout=setTimeout(function(){t.hide()},150)},_handleDocClick:function(t){var i=e(t.target);0===this.$element.has(i).length&&e.contains(document.documentElement,i[0])&&this.hide()},show:function(){var e=this,t=this.options,n={};this.$element.addClass(t.classSelected),setTimeout(function(){n[i]="_handleDocClick",e._on(e.$document,n)},1),this._trigger("shown",null,{
$element:this.$element,$trigger:this.$trigger})},hide:function(){var e=this.options;this.$element.removeClass(e.classSelected),this._off(this.$document,i),this._trigger("hidden",null,{$element:this.$element,$trigger:this.$trigger})},toggle:function(){var e=this.options;this[this.$element.hasClass(e.classSelected)?"hide":"show"]()}})}),define("managers/mpulse",["jquery","version!fly/managers/debug","managers/page-vars"],function(e,t,i){var n=t.get("mpulse"),s={isInitialized:!1,mPulse:null,_awaitInitialization:function(t){if("function"!=typeof t)n.error("Invalid callback provided",t);else if(this.isInitialized)this._updateMpulseData(),t();else{var i=this;n.info("Awaiting mpulse initilization before executing "+t.name),e(window).on("mpulse_initialized",function(){i._updateMpulseData(),t()})}},_init:function(){var t=this;window.ZdnetFunctions.gdpr_consent_callback("script_mpulse",function(){require(["version!libs/mpulse"],function(i){try{window.mPulseApp=i.init("YZ2TK-PC7PJ-K64DL-L53CR-P2G4E","22a34a7a-a08f-48ae-a20b-48d26cf7fbb0"),"object"==typeof i&&"object"==typeof window.mPulseApp?(t.isInitialized=!0,e(window).trigger("mpulse_initialized")):n.error("mpulse failed to initialize")}catch(e){n.log("Failed to initialize mPulse",e)}})})},sendBeacon:function(e,t){var i=function(){window.mPulseApp.sendTimer(e,t),n.log("mpulse timer sent: "+e+"="+t)};this._awaitInitialization(i)},_updateMpulseData:function(){try{window.mPulseApp.setPageGroup(i.tracking.data.soastaPageType),window.mPulseApp.setABTest(i.tracking.data.soastaBucket),this.mPulse.setDimension("Site View",i.tracking.data.deviceType),"object"==typeof window.BOOMR&&"object"==typeof window.BOOMR.session&&window.mPulseApp.getSessionID()!==window.BOOMR.session.ID&&window.mPulseApp.setSessionID(window.BOOMR.session.ID)}catch(e){n.error("Failed to set mPulse vars for custom timers",e)}}};return s._init(),s}),define("components/tracking-controller",["jquery","version!fly/managers/debug","managers/page-vars","managers/mpulse","utils/cookie","version!fly/components/base"],function(e,t,i,n,s){t=t.init("trackingController"),e.widget("zdnet.trackingController",e.fly.base,{options:{gcpUrlWithoutQueryString:"https://us-central1-i-cnet-dev.cloudfunctions.net/errorResponsePublish?"},monitoredServices:{comscore:{fireCount:0,maxFireCount:1,requestPrefix:"https://sb.scorecardresearch.com/b?",services:["mpulse"],timerName:"track_comscore"}},_create:function(){this._setup(),this._initRequestTracking(),this._injectQueryStringGCP()},_injectQueryStringGCP:function(){var n=this;window.ZdnetFunctions.gdpr_consent_callback("_injectQueryStringGCP",function(){if("error_page"==i.pageType){var o={ctype:"viewguid",xref:document.referrer,cval:i.tracking.data.pageViewGuid,v21:i.tracking.data.siteType+"|||"+i.tracking.data.deviceType,title:document.title,srcurl:window.location.href,ld:window.location.host,brlang:navigator.language,brwinsz:window.innerWidth+"x"+window.innerHeight,brscrsz:window.screen.width+"x"+window.screen.height,tcset:document.characterSet,ts:Date.now(),ldc:s.read("LDCLGFbrowser",{raw:!0}),clgf:s.read("XCLGFbrowser",{raw:!0}),im:"tracking-controller.js",siteid:i.tracking.data.siteId,rsid:i.tracking.data.rsid,pagetype:i.tracking.data.pageType,viewguid:i.tracking.data.pageViewGuid,devicetype:i.tracking.data.deviceType,sitetype:i.tracking.data.siteType,sid:i.tracking.data.siteId,env:i.environment},a=n.options.gcpUrlWithoutQueryString+e.param(o);t.log(a),e("<img src="+a+">")}})},_initRequestTracking:function(){if("article"===i.tracking.data.pageType){var e=this,n=0;window.setInterval(function(){try{var i=window.performance.getEntriesByType("resource");for(n=n>=i.length?0:n;n<i.length;)e._trackServiceRequest(i[n]),n++}catch(e){t.error("Failed to monitor tracking requests (known race condition):",e)}},500)}},_trackServiceRequest:function(e){for(var i in this.monitoredServices){var s=this.monitoredServices[i];s.fireCount<s.maxFireCount&&e.name.indexOf(s.requestPrefix)&&(t.info("Tracking the request: "+s.timerName,e.fetchStart),-1!==s.services.indexOf("mpulse")&&n.sendBeacon(s.timerName,e.fetchStart),s.fireCount++)}}})}),define("managers/tracking",["version!fly/managers/debug","components/tracking-controller"],function(e){e.init("trackingManager");return $.zdnet.trackingController()}),define("main",["jquery","managers/components","managers/page-vars","managers/social","managers/tealium","managers/device","managers/social","version!fly/utils/data-prefix","managers/user","libs/jquery/jquery.waypoints","optional","components/smart-search","components/edition-toggler","components/fixate","components/header-nav","components/load-async","components/medusa-async","components/modal","components/modal-async","components/scrolling-mpu","components/footer-sites","components/user-tracking","components/lazyload-images","version!components/medusa-recommendation","managers/social/facebook","managers/social/linkedin","managers/social/twitter","utils/cookie","version!components/alert","version!fly/managers/geo","version!fly/components/dropdown","managers/tracking"],function(e,t,i,n,s,o){window.ZdnetFunctions.gdpr_consent_callback("script_ad",function(){i.ads.enabled&&i.services.gpt.enabled&&require(["managers/ad"],function(e){try{e.init({ad:i.ads.data,viewGuid:i.guid}),e.delayedAdLoad()}catch(e){window.console&&console.log("GPT Manager threw an exception:",e)}})}),e(document).ready(function(){s._trackSourcePoint(),!0===i.tracking.enabled&&i.services.tealium.enabled&&s.init(i.tracking.data),$tealium=s,o.init(i.device),t.process(e("body")),n.init(),e.cookie("viewGuid",i.guid,{path:"/",secure:!0}),require(["components/urban-airship"],function(){try{e.zdnet.urbanAirship()}catch(e){debug.log("UrbanAirship component not available")}})})}),define("fly/components/social-links-1.0",["jquery","version!fly/managers/debug","version!fly/utils/string-vars","version!fly/components/base"],function(e,t,i){var n=e.support.touch?"vclick":"click",s=t.init("socialLinks");e.widget("fly.socialLinks",e.fly.base,{options:{title:"",url:"",description:"",shortUrl:"",via:"",data:{},popupWidth:620,popupHeight:440,location:null},isLoading:!1,popupId:"popup",linkId:"link",links:{facebook:"http://www.facebook.com/sharer.php?u={url}&t={title}",reddit:"http://reddit.com/submit?url={url}&title={title}",digg:"http://digg.com/submit?url={url}&title={title}",stumbleupon:"http://www.stumbleupon.com/submit?url={url}",twitter:function(e){var t="https://twitter.com/intent/tweet?text={title}&related={related}";return t+=e.shortUrl?"&url={shortUrl}&counturl={url}":"&url={url}",t+=e.via?"&via={via}":""},delicious:"http://del.icio.us/post?url={url}&title={title}",googleplus:"https://plus.google.com/share?url={url}&utm_content={title}&utm_campaign=&utm_medium=share%2Bbutton",linkedin:"http://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}&summary={description}",pinterest:"http://pinterest.com/pin/create/button/?url={url}&media={media}&description={description}",tumblr:"http://www.tumblr.com/share/link?url={url}&description={description}",whatsapp:function(t){var n={ios:{match:/(ipad|iphone|ipod)/,store:"https://itunes.apple.com/app/whatsapp-messenger/id310633997",url:"whatsapp://send?text={title}%20{url}"},androidChrome:{match:"androidChrome",store:"market://details?id=com.whatsapp",url:"intent://send?text={title}%20{url}#Intent;package=com.whatsapp;scheme=whatsapp;end;"},android:{match:"android",store:"market://details?id=com.whatsapp",url:"whatsapp://send?text={title}%20{url}"}},s=window.navigator.userAgent.toLowerCase();for(var o in n)if(o=n[o],s.match(o.match)){o.url=i.compile(o.url,t,["urlencode"]);var a=e("<iframe />").css("display","none").attr("src",o.url).appendTo("body");return setTimeout(function(){window.open(o.store,"_blank"),a.remove()},300),!1}},print:function(){return window.print(),!1},email:"mailto:?subject={title}&body={url}%0D%0D{description}"},_create:function(){var e=(this.options,{});this._setup(),e[n+" [data-"+this.popupId+"]"]="_handlePopup",e[n+" [data-"+this.linkId+"]"]="_handleLink",this._on(this.$element,e)},_handlePopup:function(t){var i=e(t.currentTarget),n=i.data(this.popupId);t.preventDefault(),this.$el=i,this._setupClickEvent(t,{el:i,name:n}),this.popup(t,n)},_handleLink:function(t){var i=e(t.currentTarget),n=i.data(this.linkId);t.preventDefault(),this.$el=i,this._setupClickEvent(t,{el:i,name:n}),this.link(t,n)},_getLink:function(t){var n=this.links[t.toLowerCase()],s=this._getLinkData();return e.isFunction(n)&&(n=n(s)),n=i.compile(n,s,["urlencode"])},setLink:function(e,t){this.links[e]=t},_getLinkData:function(){var t=this.options;return e.extend({title:t.title,description:t.description,url:t.url,shortUrl:t.shortUrl,via:t.via},t.data)},popup:function(e,t){var i=this._getLink(t),n=this._getPopUpCoords(),s=this.$el;i&&(window.open(i,"button_share","width="+n.width+", height="+n.height+", left="+n.left+", top="+n.top+", personalbar=0, toolbar=0, scrollbars=1, resizable=1"),this._setupLoadEvent(e,{el:s,name:t,type:this.popupId}))},link:function(e,t){var i=this._getLink(t),n=this.$el;i&&(this._setupLoadEvent(e,{el:n,name:t,type:this.linkId}),window.location=i)},_getPopUpCoords:function(e,t){var i=this.options,n=e||i.popupWidth,s=t||i.popupHeight,o=screen.width,a=screen.height;return{left:Math.round(o/2-n/2),top:a>s?Math.round(a/2-s/2):0,width:o>n?n:o,height:a>s?s:a}},_setupClickEvent:function(t,i){t=t||null;var n=this.options.location;n&&e.extend(i,{location:n}),s.log("clicked"),this._trigger("clicked",null,i)},_setupLoadEvent:function(t,i){t=t||null;var n=this.options.location;n&&e.extend(i,{location:n}),this._trigger("loaded",t,i)}})}),define("components/social-links",["jquery","version!fly/managers/debug","version!fly/utils/string-vars","managers/page-vars","version!fly/components/base","version!fly/components/social-links"],function(e,t,i,n){var s=e.support.touch?"vclick":"click",o=t.init("socialLinks");e.widget("fly.socialLinks",e.fly.socialLinks,{options:{title:"",url:"",description:"",via:"",data:{},popupWidth:620,popupHeight:440,location:null},isLoading:!1,popupId:"popup",linkId:"link",links:{facebook:"http://www.facebook.com/sharer.php?u={url}&t={title}",reddit:"http://reddit.com/submit?url={url}&title={title}",digg:"http://digg.com/submit?url={url}&title={title}",stumbleupon:"http://www.stumbleupon.com/submit?url={url}",twitter:function(e){var t="https://twitter.com/intent/tweet?text={title}&related={related}";return t+="&url={url}",t+=e.via?"&via={via}":""},delicious:"http://del.icio.us/post?url={url}&title={title}",linkedin:"http://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}&summary={description}",pinterest:"http://pinterest.com/pin/create/button/?url={url}&media={media}&description={description}",tumblr:"http://www.tumblr.com/share/link?url={url}&description={description}",print:function(){return window.print(),!1},email:"mailto:?subject={title}&body={url}%0D%0D{description}"},_create:function(){var e=(this.options,{});this._setup(),e[s+" [data-"+this.popupId+"]"]="_handlePopup",e[s+" [data-"+this.linkId+"]"]="_handleLink",this._on(this.$element,e)},_handlePopup:function(t){var i=e(t.currentTarget),n=i.data(this.popupId);t.preventDefault(),this.$el=i,this._setupClickEvent(t,{el:i,name:n}),this.popup(t,n)},_handleLink:function(t){var i=e(t.currentTarget),n=i.data(this.linkId);t.preventDefault(),this.$el=i,this._setupClickEvent(t,{el:i,name:n}),this.link(t,n)},setLink:function(e,t){this.links[e]=t},_getLinkData:function(){var t=this.options;return e.extend({title:t.title,description:t.description,url:t.url,via:t.via},t.data)},_getLink:function(t){var n=this.links[t.toLowerCase()],s=this._getLinkData();return e.isFunction(n)&&(n=n(s)),"twitter"==t&&e.ajax({url:"/sharebar-shortener/",async:!1,data:{longurl:this.options.url}}).done(function(e){s.url=e.data.url}),n=i.compile(n,s,["urlencode"])},popup:function(e,t){var i=this._getLink(t),n=this._getPopUpCoords(),s=this.$el;i&&(window.open(i,"button_share","width="+n.width+", height="+n.height+", left="+n.left+", top="+n.top+", personalbar=0, toolbar=0, scrollbars=1, resizable=1"),this._setupLoadEvent(e,{el:s,name:t,type:this.popupId}))},link:function(e,t){var i=this._getLink(t),n=this.$el;i&&(this._setupLoadEvent(e,{el:n,name:t,type:this.linkId}),window.location=i)},_getPopUpCoords:function(e,t){var i=this.options,n=e||i.popupWidth,s=t||i.popupHeight,o=screen.width,a=screen.height;return{left:Math.round(o/2-n/2),top:a>s?Math.round(a/2-s/2):0,width:o>n?n:o,height:a>s?s:a}},_setupClickEvent:function(t,i){t=t||null;var n=this.options.location;n&&e.extend(i,{location:n}),o.log("clicked"),this._trigger("clicked",null,i),omnitureMgr.trackEvent("clickSocialShare",{socialCode:omnitureMgr.getSocialCode(i.name)})},_setupLoadEvent:function(t,i){t=t||null;var n=this.options.location;n&&e.extend(i,{location:n}),this._trigger("loaded",t,i)}})}),define("components/share-bar",["jquery","version!fly/managers/debug","managers/page-vars","components/social-links","version!fly/components/base"],function(e,t,i){t=t.init("shareBar"),e.widget("zdnet.shareBar",e.fly.base,{options:{url:window.location.href,showZeros:!1},$buttons:null,$links:null,_create:function(){var e=this;window.ZdnetFunctions.gdpr_consent_callback("script_sharebar",function(){e._setup(),e._setupEvents(),t.log("Initializing Sharebar",this.options),t.log(e.options.author),e.options.author&&e.options.author.socialProfiles&&e.options.author.socialProfiles.twitter&&(t.log("Adding author to Twitter via attribute"),e.options.via="ZDNet & @"+e.options.author.socialProfiles.twitter),e.$links=e.$element.socialLinks(e.options),e.$window.trigger("shareBarLoaded")})},_setupEvents:function(){var e={"click li.comments a":"_handleCommentsClick"};this._on(this.$element,e)},_handleCommentsClick:function(t){if("content_gallery"!==i.tracking.data.articleType){var n=t.currentTarget.hash;if($target=e(n),$target.length>0){if("article"===i.tracking.data.pageType){$target.closest('[data-component="disqusLoader"]').disqusLoader("show")}return omnitureMgr&&omnitureMgr.trackEvent("shareBarComment",{location:e(t.currentTarget).data("location")}),e("html, body").animate({scrollTop:$target.offset().top-70}),!1}return!0}}})}),define("fly/components/form-validate-1.0",["jquery","version!fly/utils/string-helper","version!fly/utils/string-vars","version!fly/managers/debug","version!fly/components/base"],function(e,t,i,n){var s=e.support.touch?"vclick":"click",o=n.init("formValidate");e.widget("fly.formValidate",e.fly.base,{options:{inlineErrorTemplate:'<label for="{id}" class="validate-{type}">{message}</label>',globalErrorTemplate:'<div class="alert alert-{type}">{message}</div>',classFieldStatus:"validate-{type}",animation:"slide",fieldSelector:'[data-item="field"]',ignoreHidden:!0,ignoreSelector:null,validateOnChange:!0,scrollToErrors:!1,attributes:["required","maxlength","minlength"],rules:{},success:function(e,t){t.$form.submit()},failure:function(e,t){},placeError:function(e,t){t.is(":checkbox, :radio")&&t.parent("label").length?e.insertAfter(t.parent("label")):e.insertAfter(t)}},rules:{required:{message:function(e){return e.is(":radio")?"One of these fields is required":"This field is required"},test:function(e){var t;return e.is(":radio")?(t=e.closest("form").find(':radio[name="'+e.attr("name")+'"]'),t.is(":checked")):!!(e.is(":checkbox")?e.is(":checked"):e.val())}},mailcheck:{type:"warning",message:null,test:function(e,t){var i=this,n=e.closest("form");return require(["fly/libs/mailcheck-1.1"],function(){e.mailcheck({suggested:function(o,a){i.message='Did you mean <a class="mailcheck" data-_insert="mailcheck">'+a.domain+"</a>?",n.on(s+".mailcheck",'[data-_insert="mailcheck"]',function(){e.val(a.full).trigger("change")}),t.reject("mailcheck")},empty:function(e){n.off(".mailcheck"),t.resolve()}})}),t.promise()}},availableEmail:{remote:!0,message:"Email is already in use"},availableUsername:{remote:!0,message:"User Name is already in use"},minlength:{message:function(e){return"This field must be at least "+e.attr("minlength")+" characters"},test:function(e){return e.val().length>=e.attr("minlength")}},maxlength:{message:function(e){return"This field must be no more than "+e.attr("maxlength")+" characters"},test:function(e){return e.val().length<=e.attr("maxlength")}},email:{message:"Please enter a valid email",test:function(e){return/^[A-Z0-9._%+\-]+@[A-Z0-9.\-]+\.[A-Z]{2,4}$/i.test(e.val())}},noUrl:{message:"A url is not allowed in this field",test:function(e){return!/http:\/\//i.test(e.val())}},noSpecialCharacters:{message:"The special characters @, &, and % are not allowed in this field",test:function(e){return/^[^@&%]+$/i.test(e.val())}},equalTo:{message:"Fields do not match",test:function(t){var i=e('input[name="'+t.data("validate-equal-to")+'"]');return i.length&&t.val()===i.val()}}},wasSubmitted:!1,isWorking:!1,isFormValid:!1,_create:function(){var e=this.options,t={};this._setup(),this.$form=this.$element,this.$form.attr("novalidate","novalidate"),this.globalErrors=[],this.ignoreSelector=":submit, :reset, :image, [disabled]",e.ignoreHidden&&(this.ignoreSelector+=", :hidden"),e.ignoreSelector&&(this.ignoreSelector+=", "+e.ignoreSelector),this.addRules(e.rules),this._on(this.$form,{submit:"_handleSubmit"}),e.validateOnChange&&(t["focusout :input:not("+this.ignoreSelector+", [data-_enabled])"]="_handleFocusOut",t["keyup :input:not("+this.ignoreSelector+", [readonly])"]="_handleChange",t["change :input:not("+this.ignoreSelector+")"]="_handleChange",this._on(this.$form,t))},_handleSubmit:function(e){this._off(this.$form,"focusout"),this.wasSubmitted=!0,this.isFormValid||(e.preventDefault(),e.stopImmediatePropagation(),this.validate())},_handleFocusOut:function(t){e(t.target).attr("data-_enabled","true"),this._handleChange(t)},_handleChange:function(t){var i=e(t.target);this.isFormValid=!1,(this.wasSubmitted||i.data("_enabled"))&&(i.data("_passed",!1),this.testField(i))},getRule:function(e){return void 0!==this.rules[e]&&this.rules[e]},getRulesToValidate:function(t){var i=this,n=t.data("validate")||[],s=e.isArray(n)?n:n.split(" ");return e.each(this.options.attributes,function(e,i){t.attr(i)&&s.unshift(i)}),e.grep(s,function(e,t){return i.getRule(e)})},addRules:function(t){e.isPlainObject(t)&&e.extend(this.rules,t)},removeRule:function(e){!1!==this.getRule(e)&&delete this.rules[e]},setFieldDelegate:function(e){var t=null;return e.is(":radio")&&(t=this.$form.find(':radio[name="'+e.attr("name")+'"]').first()),e.data("_field_delegate",t),e},testField:function(t){var i,n=this,s=[],a=t.data()||{},r=a.error||{},l=e.Deferred();return a._passed?(l.resolve(),l.promise()):(this.setFieldDelegate(t),a.remoteRequest&&a.remoteRequest.abort(),i=this.getRulesToValidate(t),o.log("test field: ",t," w/ rules:",i),e.each(i,function(i,a){var l,d=n.getRule(a),c=!0,u=!!d.remote,h=null;if(u&&(h=d.remoteUrl||t.data("remoteUrl"),n.removeError(t)),l=function(){var i=e.Deferred(),s=null;return s=u?n.requestRemote(h,t,a,i):d.test(t,i),!1===s?(c=!1,i.reject(a)):!0===s&&i.resolve(a),i.promise()},l=l(),s.push(l),e.when(l).fail(function(){o.log("rule failed: ",a,t)}).then(function(){r.name===a&&n.removeError(t),o.log("rule passed: ",a,t)}),!c)return!1}),e.when.apply(null,s).fail(function(e){var i=n.getRule(e),s=i.type?i.type:"error",a=t.data(),r=a.error||{};a.remoteTimeout&&clearTimeout(a.remoteTimeout),a.remoteRequest&&a.remoteRequest.abort(),r.message!=n.getMessage(e,t)&&(n.removeError(t),n.addInlineError(t,e)),"error"!==s?(l.resolve(),o.log("field passed: ",t," type: ",s)):(l.reject(),o.log("field failed: ",t))}).then(function(){t.data("_passed",!0),n.removeError(t),l.resolve(),o.log("field passed: ",t)}),l.promise())},requestRemote:function(t,i,n,s){var o={},a=null,r=null,l=i.data()||{};l.remoteTimeout&&(clearTimeout(l.remoteTimeout),l.remoteQueue.resolve(n)),o[i.attr("name")]=i.val(),r=setTimeout(function(){a=e.ajax({type:"POST",dataType:"json",url:t,data:o,timeout:5e3,success:function(t){switch(t){case!0:s.resolve(n);break;case!1:s.reject(n);break;default:e.isPlainObject(t)&&t.status?"success"===t.status?s.resolve(n):s.reject(n):s.resolve(n)}},complete:function(){i.data("remoteRequest",null)},error:function(e,t){s.resolve(n),i.data("_passed",!1)}}),i.data({remoteRequest:a,remoteQueue:null,remoteTimeout:null})},300),i.data({remoteQueue:s,remoteTimeout:r})},validate:function(){var t=this.options,i=this,n=[];this.isWorking||!1!==this._trigger("validate")&&(this.isWorking=!0,this.removeGlobalErrors(),this.$form.find(":input").not(this.ignoreSelector).each(function(){var t=e(this);n.push(i.testField(t))}),e.when.apply(null,n).fail(function(){o.log("validate failed"),i._trigger("failure",null,{$form:i.$form}),t.scrollToErrors&&i.scrollToErrors()}).then(function(){o.log("validate success"),i.isFormValid=!0,i._trigger("success",null,{$form:i.$form}),i.isFormValid=!1}).always(function(){i._trigger("validated"),i.isWorking=!1}))},scrollToErrors:function(){var t=this.options,i=this.$form.find("[data-validate-error]").first(),n=i.closest(t.fieldSelector),s=(n.length?n:i).offset().top;!1!==this._trigger("scroll",null,{offset:s})&&(s-=this.$window.height()/6,e("html, body").animate({scrollTop:s},"fast"))},removeError:function(t){t=t.data("_field_delegate")||t;var i=this,n=this.options,s=t.data("error");s&&("slide"===n.animation?s.$error.slideUp("fast",function(){e(this).remove(),i._completeRemoveError(s,t)}):(t.remove(),this._completeRemoveError(s,t)),t.removeClass(s.fieldClass).removeData("error"))},getMessage:function(t,i){var n=this.getRule(t),s=i.data("validate-message-"+t)||i.data("validate-message-"+t.toLowerCase());return s||!1===s||(s=e.isFunction(n.message)?n.message(i):n.message),s},addInlineError:function(t,n){t=t.data("_field_delegate")||t;var s,o,a,r,l=this,d=this.options,c=t.data("error")||{},u={name:n,position:"inline"};"error"!==c.type&&(a=this.getMessage(n,t),s=this.getRule(n),o=s.type||"error",r=i.compile(d.inlineErrorTemplate,{type:o,id:t.attr("id"),message:a}),e.extend(u,{type:o,message:a,$error:e(r).attr("data-validate-error",!0),fieldClass:i.compile(this.options.classFieldStatus,{type:o})}),t.addClass(u.fieldClass).data("error",u),!1!==a&&("slide"===d.animation?(u.$error=e("<div />").wrapInner(u.$error),u.$error.hide(),d.placeError.call(this,u.$error,t),u.$error.slideDown("fast",function(){l._completeAddError(u,t)})):(d.placeError.call(this,u.$error,t),this._completeAddError(u,t))))},addGlobalError:function(t,n){n=n||"error";var s,o=this,a=this.options,r={position:"global",type:n,message:t};s=i.compile(a.globalErrorTemplate,{type:n,message:t}),e.extend(r,{$error:e(s).attr("data-validate-error",!0)}),"slide"===a.animation?(r.$error=e("<div />").wrapInner(r.$error),r.$error.hide().prependTo(this.$form).slideDown("fast",function(){o._completeAddError(r)})):(this.$form.prepend(r.$error),this._completeAddError(r)),this.globalErrors.push(r)},removeGlobalErrors:function(){var t=this;e.each(this.globalErrors,function(e,i){i.$error.remove(),t._completeRemoveError(i)})},removeInlineErrors:function(){var t=this;this.$form.find("[data-validate-error]").each(function(){var i=e(this),n=i.data();n.error&&t.removeError(i),n.remoteRequest&&n.remoteRequest.abort()})},_completeAddError:function(t,i){this._trigger("errorAdded",null,e.extend(t,{$field:i})),this.$document.trigger("displayChange",{type:"errorAdded"})},_completeRemoveError:function(t,i){this._trigger("errorRemoved",null,e.extend(t,{$field:i})),this.$document.trigger("displayChange",{type:"errorRemoved"})},_disable:function(){this.removeGlobalErrors(),this.removeInlineErrors()},_destroy:function(){this._disable()}})}),define("components/form-validate",["jquery","version!fly/managers/debug","translations/form-validate","version!fly/utils/string-vars","version!fly/components/form-validate"],function(e,t,i,n){t=t.init("formValidate"),e.widget("zdnet.formValidate",e.fly.formValidate,{options:{validateOnChange:!1},rules:{required:{message:function(e){return e.is(":radio")?i.required.radio:i.required.field},test:function(e){var t,i;return e.is(":text")?i=e.val():e.is(":checkbox")?i=e.is(":checked"):e.is("select")?i=e.val().indexOf("NOTSELECTED")<0:e.is(":radio")?(t=e.closest("form").find(':radio[name="'+e.attr("name")+'"]'),i=t.is(":checked")):i=e.val(),!!i}},mailcheck:{message:null},availableEmail:{message:i.availableEmail},availableUsername:{message:i.availableUsername},minlength:{message:function(e){return n.compile(i.minlength,{minlength:e.attr("minlength")})}},maxlength:{message:function(e){return n.compile(i.maxlength,{maxlength:e.attr("maxlength")})}},email:{message:i.email,test:function(e){return!e.val()||/^[A-Z0-9._%+\-]+@[A-Z0-9.\-]+\.[A-Z]{2,4}$/i.test(e.val())}},noUrl:{message:i.noUrl},noSpecialCharacters:{message:i.noSpecialCharacters},equalTo:{message:i.equalTo},usernameSpecialCharacters:{message:i.usernameSpecialCharacters,test:function(e){return/^[a-z0-9\-_]*$/i.test(e.val())}},usernameCharacterLength:{message:i.usernameCharacterLength,test:function(e){var t=e.val().length;return t>=3&&t<=25}},recaptcha:{message:i.recaptchaFail},file:{message:i.fileFail},filesize:{message:i.filesizeFail},validPassword:{message:i.validPassword,test:function(e){var t=e.val(),i=0;return/[0-9]+/.test(t)&&i++,/[a-z]+/.test(t)&&i++,/[A-Z]+/.test(t)&&i++,/[\(\)\.@`!#\$%\^&*+=\-\[\]\\';,/\{\}\|":<>\?~_]+/.test(t)&&i++,i>=3&&t.length>=6&&-1==t.indexOf(" ")}}},addInlineError:function(t,i){t=t.data("_field_delegate")||t;var s,o,a,r,l=this,d=this.options,c=t.data("error")||{},u={name:i,position:"inline"};"error"!==c.type&&(a=this.getMessage(i,t),s=this.getRule(i),o=s.type||"error",r=n.compile(d.inlineErrorTemplate,{type:o,id:t.attr("id"),message:a}),e.extend(u,{type:o,message:a,$error:e(r).attr("data-validate-error",!0),fieldClass:n.compile(this.options.classFieldStatus,{type:o})}),t.addClass(u.fieldClass).data("error",u),!1!==a&&("slide"===d.animation?(u.$error=e('<div class="warning-label" />').wrapInner(u.$error),d.placeError.call(this,u.$error,t),l.scrollToErrors()):(d.placeError.call(this,u.$error,t),this._completeAddError(u,t))),e(document).trigger("displayChange"))},removeError:function(e){e=e.data("_field_delegate")||e;var t=this.options,i=e.data("error");i&&("slide"===t.animation?i.$error.remove():(e.remove(),this._completeRemoveError(i,e)),e.removeClass(i.fieldClass).removeData("error"))}})}),define("components/email-contact",["jquery","version!fly/managers/debug","translations/form-validate","version!fly/components/modal-async","components/loading","components/form-validate","version!fly/components/base"],function(e,t,i){var n=e.support.touch?"vclick":"click",s=e.zdnet.loading();t=t.init("emailContact"),e.widget("zdnet.emailContact",e.fly.base,{options:{trackClickText:"",isDesktopGallery:!1,modalAsync:{url:"/user/email-contact/xhr/",requestData:{}}},modal:null,_create:function(){this._setup(),this._setupEvents()},_setupEvents:function(){var e={};e[n]="_handleAsyncModal",this._on(this.$element,e)},_handleAsyncModal:function(t){var i=this;omnitureMgr.trackEvent("clickSocialShare",{socialCode:10,socialService:"email"}),t.preventDefault(),e(".email-contact-modal").remove(),this.modal=e.fly.modalAsync(e.extend(!0,{},{openOnInit:!0},this.options.modalAsync)),this.modal.$element.on("modalasynccontentset",function(e,t){i._handleContactFormEvents(t.$modal)}),this.modal.$element.addClass("email-contact-modal"),this.options.isDesktopGallery&&this.modal.$element.css({top:30,position:"fixed"})},_handleContactFormEvents:function(n){var o=e(n.find("form")),a=o.find("button, input, textarea"),r=e('[data-component="recaptcha"]',o);s.$element.appendTo(o),o.formValidate({success:function(n,l){n.preventDefault(),a.attr("disabled","disabled"),s.add(),r.recaptcha("onReady",function(){t.log("recaptcha callback"),a.removeAttr("disabled");var n=o.serialize();a.attr("disabled","disabled"),e.ajax({url:o.attr("action"),type:o.attr("method"),data:n,dataType:"json"}).done(function(e){t.log("success",e),e.errors?e.errors.recaptcha?o.data("formValidate").addGlobalError(i.recaptchaFail,"error"):e.errors.emptyBody?o.data("formValidate").addGlobalError(i.emailEmptyBody,"error"):o.data("formValidate").addGlobalError(i.emailError,"error"):(o.data("formValidate").addGlobalError(i.emailSuccess,"success"),o[0].reset())}).fail(function(e){t.log("error",e),o.data("formValidate").addGlobalError(i.emailError,"error")}).always(function(e){t.log("complete",e),a.removeAttr("disabled"),s.remove()})})}})}})}),define("fly/managers/history-1.0",["jquery","version!fly/utils/string-vars"],function(e,t){"use strict";var i=window.history,n=e(window),s=0,o="pushState"in i&&"replaceState"in i&&!(window.navigator.userAgent.indexOf("Firefox")>=0&&window.top!==window)&&-1===window.navigator.userAgent.search(/CriOS/),a=function(e,t){e=e||{},s+=1,this.id="history-"+s,this.title=e.title,this.route=e.route,this.originalTitle=document.title,t&&this.navigate(t,{replace:!0})};return a.prototype={constructor:a,navigate:function(n,s){if(!o)return!1;e.extend(!0,n,{historyId:this.id}),s=s||{};var a=s.title||this.title,r=s.url||this.route;a=t.compile(e.isFunction(a)?a(n):a,e.extend({title:this.originalTitle},n)),r=t.compile(e.isFunction(r)?r(n):r,n),i[s.replace?"replaceState":"pushState"](n,a,r),a&&(document.title=a)},stateChange:function(t){if(!o)return!1;var s=this;n.on("popstate."+this.id,function(){var n=i.state||{};n.historyId===s.id&&e.isFunction(t)&&t(n)})},stop:function(){if(!o)return!1;n.off("popstate."+this.id)}},{init:function(e,t){return new a(e,t)}}}),define("managers/guid",["jquery","version!fly/managers/debug","version!fly/utils/guid","managers/page-vars"],function(e,t,i,n,s){var o=t.get("guid");return{getViewGuid:function(){return n.guid},resetViewGuid:function(e){var t=n.guid;"string"!=typeof e&&(e=this.generateGuid()),n.guid=e,n.ads.data.gpt.targeting.vguid=e,utag_data.pageViewGuid=e,n.tracking.data.pageViewGuid=e,o.log("View guid updated from "+t+" to "+e)},generateGuid:function(){var e=i.generate();return o.log("New view guid = "+e),e}}}),define("fly/components/image-gallery-1.0",["jquery","version!fly/managers/debug","version!fly/utils/string-vars","version!fly/managers/history","version!fly/components/base"],function(e,t,i,n){var s=e.mobile?"vclick":"click";t.init("imageGallery");e.widget("fly.imageGallery",e.fly.base,{options:{index:0,count:0,preloadThreshold:2,selectors:{image:'[data-item="image"]',count:'[data-item="image-count"]'},classes:{selected:"selected",disabled:"disabled"},countTemplate:'<span class="index">{index}</span> / <span class="count">{count}</span>',pushState:{enabled:!1,route:function(e){return e.index>1?"./{index}":"./"},title:function(e){return"{title}"+(e.index>1?"- {index}":"")}}},index:1,indexPrevious:null,count:0,selectors:{control:"[data-to-image]",next:'[data-to-image="next"]',previous:'[data-to-image="previous"]',jump:'[data-to-image="{index}"]'},_create:function(){var e=this.options;this._setup(),this.index=parseInt(e.index,10),this.count=parseInt(e.count,10),this.$images=this.$element.find(e.selectors.image),this.$count=this.$element.find(e.selectors.count),this._setupEvents(),this._updateControls(),this._preloadImages(),e.pushState.enabled&&this._setupPushState()},_setupEvents:function(){var e={};e[s+" "+this.selectors.control]="_handleControlClick",this._on(this.$element,e)},_setupPushState:function(){var e=this.options,t=this;this.history=n.init(e.pushState,{index:this.index}),this._on({imagegalleryshown:function(e,i){var n={index:i.index};"stateChange"!==i.action&&t.history.navigate(n,{title:i.title,url:i.url})}}),this.history.stateChange(function(e){t.show(e.index,"stateChange")})},_handleControlClick:function(t){var i=e(t.target).closest(this.selectors.control).data("toImage");switch(t.preventDefault(),t.stopPropagation(),i){case"next":this.next();break;case"previous":this.previous();break;default:this.show(parseInt(i,10),"to")}},_updateControls:function(){
var e=this.options,t=this.$element.find(this.selectors.previous),n=this.$element.find(this.selectors.next),s=this.$element.find(i.compile(this.selectors.jump,{index:this.indexPrevious})),o=this.$element.find(i.compile(this.selectors.jump,{index:this.index}));n[this.index===this.count?"addClass":"removeClass"](e.classes.disabled),t[1===this.index?"addClass":"removeClass"](e.classes.disabled),o.addClass(e.classes.selected),s.removeClass(e.classes.selected)},_updateCount:function(){var e=this.options,t={};this.$count.length&&(t={index:this.index,count:this.count},this.$count.html(i.compile(e.countTemplate,t)))},show:function(e,t){var i,n,s=this.options;e!==this.index&&(i=this.$images.eq(this.index-1),n=this.$images.eq(e-1),this._loadImage(n),i.removeClass(s.classes.selected),n.addClass(s.classes.selected),this.indexPrevious=this.index,this.index=e,this._updateControls(),this._updateCount(),this._trigger("shown",null,{$current:n,$previous:i,index:this.index,action:t}),this._preloadImages())},next:function(){var e=(this.options,this.index+1);e>this.count||(this.show(e,"next"),this._trigger("next"))},previous:function(){var e=(this.options,this.index-1);0!==e&&(this.show(e,"previous"),this._trigger("previous"))},_preloadImages:function(){var t,i,n,s=this.options,o=this;0!==s.preloadThreshold&&(t=Math.max(1,this.index-s.preloadThreshold),i=Math.min(this.count,this.index+s.preloadThreshold),n=this.$images.slice(t-1,i),n.each(function(t,i){o._loadImage(e(i))}))},_loadImage:function(e){var t,i,n=e.data("isLoaded")||!1;n||(t=e.find("img"),i=t.data("src"),t.length&&i&&(t.attr("src",i),t.removeData("src"),e.data("isLoaded",!0)))}})}),function(e,t,i){"function"==typeof define&&define.amd?define("libs/jquery/mobile-1.4.5",["jquery"],function(n){return i(n,e,t),n.mobile}):i(e.jQuery,e,t)}(this,document,function(e,t,i,n){!function(e,t,i,n){function s(e){for(;e&&void 0!==e.originalEvent;)e=e.originalEvent;return e}function o(t,i){var o,a,r,l,d,c,u,h,p,m=t.type;if(t=e.Event(t),t.type=i,o=t.originalEvent,a=e.event.props,m.search(/^(mouse|click)/)>-1&&(a=I),o)for(u=a.length,l;u;)l=a[--u],t[l]=o[l];if(m.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==m.search(/^touch/)&&(r=s(o),m=r.touches,d=r.changedTouches,c=m&&m.length?m[0]:d&&d.length?d[0]:n))for(h=0,p=S.length;h<p;h++)l=S[h],t[l]=c[l];return t}function a(t){for(var i,n,s={};t;){i=e.data(t,C);for(n in i)i[n]&&(s[n]=s.hasVirtualBinding=!0);t=t.parentNode}return s}function r(t,i){for(var n;t;){if((n=e.data(t,C))&&(!i||n[i]))return t;t=t.parentNode}return null}function l(){z=!1}function d(){z=!0}function c(){G=0,j.length=0,L=!1,d()}function u(){l()}function h(){p(),q=setTimeout(function(){q=0,c()},e.vmouse.resetTimerDuration)}function p(){q&&(clearTimeout(q),q=0)}function m(t,i,n){var s;return(n&&n[t]||!n&&r(i.target,t))&&(s=o(i,t),e(i.target).trigger(s)),s}function f(t){var i,n=e.data(t.target,x);L||G&&G===n||(i=m("v"+t.type,t))&&(i.isDefaultPrevented()&&t.preventDefault(),i.isPropagationStopped()&&t.stopPropagation(),i.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}function g(t){var i,n,o,r=s(t).touches;r&&1===r.length&&(i=t.target,n=a(i),n.hasVirtualBinding&&(G=W++,e.data(i,x,G),p(),u(),P=!1,o=s(t).touches[0],D=o.pageX,M=o.pageY,m("vmouseover",t,n),m("vmousedown",t,n)))}function v(e){z||(P||m("vmousecancel",e,a(e.target)),P=!0,h())}function y(t){if(!z){var i=s(t).touches[0],n=P,o=e.vmouse.moveDistanceThreshold,r=a(t.target);P=P||Math.abs(i.pageX-D)>o||Math.abs(i.pageY-M)>o,P&&!n&&m("vmousecancel",t,r),m("vmousemove",t,r),h()}}function w(e){if(!z){d();var t,i,n=a(e.target);m("vmouseup",e,n),P||(t=m("vclick",e,n))&&t.isDefaultPrevented()&&(i=s(e).changedTouches[0],j.push({touchID:G,x:i.clientX,y:i.clientY}),L=!0),m("vmouseout",e,n),P=!1,h()}}function b(t){var i,n=e.data(t,C);if(n)for(i in n)if(n[i])return!0;return!1}function _(){}var k,$,C="virtualMouseBindings",x="virtualTouchID",T="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),S="clientX clientY pageX pageY screenX screenY".split(" "),E=e.event.mouseHooks?e.event.mouseHooks.props:[],I=e.event.props.concat(E),A={},q=0,D=0,M=0,P=!1,j=[],L=!1,z=!1,F="addEventListener"in i,O=e(i),W=1,G=0;for(e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},$=0;$<T.length;$++)e.event.special[T[$]]=function(t){var i=t.substr(1);return{setup:function(){b(this)||e.data(this,C,{}),e.data(this,C)[t]=!0,A[t]=(A[t]||0)+1,1===A[t]&&O.bind(i,f),e(this).bind(i,_),F&&(A.touchstart=(A.touchstart||0)+1,1===A.touchstart&&O.bind("touchstart",g).bind("touchend",w).bind("touchmove",y).bind("scroll",v))},teardown:function(){--A[t],A[t]||O.unbind(i,f),F&&(--A.touchstart||O.unbind("touchstart",g).unbind("touchmove",y).unbind("touchend",w).unbind("scroll",v));var n=e(this),s=e.data(this,C);s&&(s[t]=!1),n.unbind(i,_),b(this)||n.removeData(C)}}}(T[$]);F&&i.addEventListener("click",function(t){var i,n,s,o,a,r=j.length,l=t.target;if(r)for(i=t.clientX,n=t.clientY,k=e.vmouse.clickDistanceThreshold,s=l;s;){for(o=0;o<r;o++)if(a=j[o],0,s===l&&Math.abs(a.x-i)<k&&Math.abs(a.y-n)<k||e.data(s,x)===a.touchID)return t.preventDefault(),void t.stopPropagation();s=s.parentNode}},!0)}(e,0,i),function(e){e.mobile={}}(e),function(e,t){var n={touch:"ontouchend"in i};e.mobile.support=e.mobile.support||{},e.extend(e.support,n),e.extend(e.mobile.support,n)}(e),function(e,t,n){function s(t,i,s,o){var a=s.type;s.type=i,o?e.event.trigger(s,n,t):e.event.dispatch.call(t,s),s.type=a}var o=e(i),a=e.mobile.support.touch,r=a?"touchstart":"mousedown",l=a?"touchend":"mouseup",d=a?"touchmove":"mousemove";e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,i){e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.attrFn&&(e.attrFn[i]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){i=t,s(o,i?"scrollstart":"scrollstop",e)}var i,n,o=this,a=e(o);a.bind("touchmove scroll",function(s){e.event.special.scrollstart.enabled&&(i||t(s,!0),clearTimeout(n),n=setTimeout(function(){t(s,!1)},50))})},teardown:function(){e(this).unbind("touchmove scroll")}},e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var t=this,i=e(t),n=!1;i.bind("vmousedown",function(a){function r(){clearTimeout(c)}function l(){r(),i.unbind("vclick",d).unbind("vmouseup",r),o.unbind("vmousecancel",l)}function d(e){l(),n||u!==e.target?n&&e.preventDefault():s(t,"tap",e)}if(n=!1,a.which&&1!==a.which)return!1;var c,u=a.target;i.bind("vmouseup",r).bind("vclick",d),o.bind("vmousecancel",l),c=setTimeout(function(){e.event.special.tap.emitTapOnTaphold||(n=!0),s(t,"taphold",e.Event("taphold",{target:u}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),o.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var i=t.pageXOffset,n=t.pageYOffset,s=e.clientX,o=e.clientY;return 0===e.pageY&&Math.floor(o)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(s)>Math.floor(e.pageX)?(s-=i,o-=n):(o<e.pageY-n||s<e.pageX-i)&&(s=e.pageX-i,o=e.pageY-n),{x:s,y:o}},start:function(t){var i=t.originalEvent.touches?t.originalEvent.touches[0]:t,n=e.event.special.swipe.getLocation(i);return{time:(new Date).getTime(),coords:[n.x,n.y],origin:e(t.target)}},stop:function(t){var i=t.originalEvent.touches?t.originalEvent.touches[0]:t,n=e.event.special.swipe.getLocation(i);return{time:(new Date).getTime(),coords:[n.x,n.y]}},handleSwipe:function(t,i,n,o){if(i.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-i.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-i.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var a=t.coords[0]>i.coords[0]?"swipeleft":"swiperight";return s(n,"swipe",e.Event("swipe",{target:o,swipestart:t,swipestop:i}),!0),s(n,a,e.Event(a,{target:o,swipestart:t,swipestop:i}),!0),!0}return!1},eventInProgress:!1,setup:function(){var t,i=this,n=e(i),s={};t=e.data(this,"mobile-events"),t||(t={length:0},e.data(this,"mobile-events",t)),t.length++,t.swipe=s,s.start=function(t){if(!e.event.special.swipe.eventInProgress){e.event.special.swipe.eventInProgress=!0;var n,a=e.event.special.swipe.start(t),r=t.target,c=!1;s.move=function(t){a&&!t.isDefaultPrevented()&&(n=e.event.special.swipe.stop(t),c||(c=e.event.special.swipe.handleSwipe(a,n,i,r))&&(e.event.special.swipe.eventInProgress=!1),Math.abs(a.coords[0]-n.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())},s.stop=function(){c=!0,e.event.special.swipe.eventInProgress=!1,o.off(d,s.move),s.move=null},o.on(d,s.move).one(l,s.stop)}},n.on(r,s.start)},teardown:function(){var t,i;t=e.data(this,"mobile-events"),t&&(i=t.swipe,delete t.swipe,0===--t.length&&e.removeData(this,"mobile-events")),i&&(i.start&&e(this).off(r,i.start),i.move&&o.off(d,i.move),i.stop&&o.off(l,i.stop))}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,i){e.event.special[t]={setup:function(){e(this).bind(i,e.noop)},teardown:function(){e(this).unbind(i)}}})}(e,this)}),define("components/image-gallery",["jquery","version!fly/managers/debug","version!fly/utils/string-vars","managers/page-vars","version!fly/managers/history","version!fly/managers/tealium","managers/guid","version!fly/components/base","version!fly/components/image-gallery","version!libs/jquery/mobile"],function(e,t,i,n,s,o,a){var r=e.mobile?"vclick":"click",l=t.init("imageGallery");e.widget("zdnet.imageGallery",e.fly.imageGallery,{options:{preloadThreshold:1,swipeThreshold:.2,selectors:{container:".gallery-page",modalContainer:"#bodyWrapper .gallery-page",count:'[data-item="image-count"] [data-item="index"]',info:'[data-item="image-info"]',content:'[data-item="content"]',thumbViewPort:'[data-item="thumb-viewport"]',thumb:'[data-item="thumb"]',thumbnailSlider:".thumbnailSlider",thumbWrapper:'[data-item="thumb-wrapper"]',slidePrevious:'[data-to="previous"]',slideNext:'[data-to="next"]',slideControl:"[data-to]",auxPrevious:'[data-to-aux="previous"]',auxNext:'[data-to-aux="next"]',auxControl:"[data-to-aux]",dekControl:'[data-item="dekControl"]',dek:'[data-item="dek"]',jump:'[data-to-image="{index}"],[data-to="{index}"]'},countTemplate:"{index}",pushState:{title:function(t){return e(".galleryHeadline").text()+(t.index>1?" - Page {index}":"")+" | ZDNet"}}},testGroup:null,testName:null,_create:function(){var t=this.options,i=this;i.testGroup=n.tracking.data.testGroup,i.testName=n.tracking.data.testName,"content_gallery"===n.tracking.data.articleType&&(0!==e(".galleryModal").length&&(this.isModal=!0),e(window).width()<980&&"mobile"!=n.tracking.data.deviceType&&(this.isSmallTablet=!0),"mobile"!=n.tracking.data.deviceType&&(this.isSmallTablet?e("body").addClass("smallTabletGallery"):e("body").addClass("overflow")),this.isModal?this.$container=e(t.selectors.modalContainer):(window.scrollTo(0,0),this.$container=e(t.selectors.container)),this.$dek=this.$container.find(t.selectors.dek),this.$dekWrapper=this.$dek.parent(),this.$gallery=this.$container.find(".image-gallery"),this._super("_create"),this.$content=e(t.selectors.content),this.$thumbViewPort=e(t.selectors.thumbViewPort),this.$thumbWrapper=e(t.selectors.thumbWrapper),this.$thumbs=e(t.selectors.thumb),this.$thumbControl=e(t.selectors.thumbnailSlider),this.$slidePrev=e(t.selectors.slidePrevious),this.$slideNext=e(t.selectors.slideNext),this._updateMetadata(),(e("body.skinAd").length||e("body.skinlocknarrow").length)&&(this.hasModalSkin=!0),window.setTimeout(function(){i._setupSize(),setTimeout(function(){var t=document.location.hash;if(t.startsWith("#")){var n=e(t);n.length>0&&i.$container.scrollTop(n.offset().top)}},1500)},1))},_setupEvents:function(){var t={},i={},s={},o={},a=this.options,l=this,d=e("body");e(window).resize(function(){"content_gallery"===n.tracking.data.articleType&&"mobile"!=n.tracking.data.deviceType&&(e(window).width()>=980?(d.removeClass("smallTabletGallery"),d.addClass("overflow")):(d.addClass("smallTabletGallery"),d.removeClass("overflow"))),l._setupSize()}),this._super("_setupEvents"),t[r+" "+a.selectors.slideControl]="_handleThumbControl",i[r+" "+a.selectors.auxControl]="_handleAuxControl",s[r+" "+a.selectors.dekControl]="_toggleDek",o.keydown="_handleKeyboardControl",this._on(".thumbnailSlider",t),this._on(".gallery-controls",i),this._on(".gallery-data",s),this._on(document,o),"ontouchstart"in window&&this._setupTouch(),e('[data-item="modal-close"]').click(function(){d.removeClass("overflow"),d.removeClass("smallTabletGallery")}),"gal_commerce"==this.testName&&e(".galleryBody p a").click(function(){omnitureMgr.trackEvent("moduleClick",{moduleInfo:"caption-click"})})},_setupPushState:function(){var t=this.options,i=t.pushState.route,n=this;t.pushState.route=function(e){return"http:"!=location.protocol&&(e.index>1?i+"{index}/":i)},this.history=s.init(t.pushState),this._on({imagegalleryshown:function(e,t){var i={index:t.index};"stateChange"!==t.action&&n.history.navigate(i,{title:t.title,url:t.url})}}),this.history.stateChange(function(t){void 0!==t.index?n.show(t.index,"stateChange"):e('[data-item="modal-close"]').trigger("click")}),this.isModal?(this.history.navigate({},{replace:!0,url:document.location}),this.history.navigate({index:this.index})):this.history.navigate({index:this.index},{replace:!0,url:document.location})},_setupThumbView:function(){0===this.$thumbWrapper.length&&0===this.$thumbControl.length||(this.visibleWidth=this.$thumbControl.width(),this.$thumbWrapper.css({width:this.visibleWidth}),this.viewPortWidth=this.$thumbWrapper.width(),this._checkThumbView())},_setupSize:function(){if(l.log("_setupSize"),"mobile"!==n.tracking.data.deviceType){this._setupThumbView();var t=this.getScale();document.querySelector("meta[name=viewport]").setAttribute("content","width=device-width, initial-scale="+t);var i=e(window).height()-this.$container.offset().top;i>0?this.$container.height(i):window.setTimeout(function(){self._setupSize()},1e3)}},_handleControlClick:function(t){if(!e("li").is(":animated")){var i=e(t.target).closest(this.selectors.control).data("toImage");switch(t.preventDefault(),t.stopPropagation(),i){case"next":omnitureMgr.trackEvent("trackOverlayClicks",{location:"overlay-next-arrow"}),this.next();break;case"previous":omnitureMgr.trackEvent("trackOverlayClicks",{location:"overlay-prev-arrow"}),this.previous();break;default:omnitureMgr.trackEvent("trackOverlayClicks",{location:"overlay-image-icon"}),this.show(parseInt(i,10),"to")}}},_handleAuxControl:function(t){if(!e("li").is(":animated")){var i=this.options,n=e(t.target).closest(i.selectors.auxControl),s=n.data("toAux");t.preventDefault();var o=n.data("trackingName");switch(s){case"next":omnitureMgr.trackEvent("trackOverlayClicks",{location:o||"overlay-next-text"}),this.next();break;case"previous":omnitureMgr.trackEvent("trackOverlayClicks",{location:o||"overlay-prev-text"}),this.previous()}}},_handleKeyboardControl:function(t){if(!e("li").is(":animated")){switch(t.keyCode){case 37:this.previous();break;case 39:this.next()}}},_setupTouch:function(){function t(e){if(1==e.originalEvent.touches.length){var t=e.originalEvent.touches[0];o=t.screenX,a=t.screenY,r=0}}function i(t){if(!e("li").is(":animated")){if(o<0||a<0)return!0;r<-s.options.swipeThreshold&&s.next(),r>s.options.swipeThreshold&&s.previous()}}function n(e){if(o<0||a<0||e.originalEvent.touches.length>1)return!0;var t=e.originalEvent.touches[0];if(Math.abs(t.screenY-a)>5&&Math.abs(t.screenX-o)<10)return o=-1,a=-1,!0;e.preventDefault(),r=(t.screenX-o)/s.$element.width()}var s=this,o=-1,a=-1,r=0;s.$element.bind("touchstart",t),s.$element.bind("touchend",i),s.$element.bind("touchmove",n)},_handleThumbControl:function(t){var i=this.options,n=e(t.target).closest(i.selectors.slideControl).data("to");switch(t.preventDefault(),n){case"next":omnitureMgr.trackEvent("trackOverlayClicks",{location:"overlay-image-icon-next"}),this.nextThumbs();break;case"previous":omnitureMgr.trackEvent("trackOverlayClicks",{location:"overlay-image-icon-prev"}),this.previousThumbs();break;default:omnitureMgr.trackEvent("trackOverlayClicks",{location:"overlay-image-icon"}),this.show(parseInt(n,10),"to")}},_updateControls:function(){var t=this.options,n=this.$element.find(this.selectors.previous),s=this.$element.find(this.selectors.next),o=e(i.compile(this.options.selectors.jump,{index:this.indexPrevious})),a=e(i.compile(this.options.selectors.jump,{index:this.index})),r=e(t.selectors.auxPrevious),l=e(t.selectors.auxNext);this.isModal||(s[this.index===this.count?"addClass":"removeClass"](t.classes.disabled),l[this.index===this.count?"addClass":"removeClass"](t.classes.disabled)),n[1===this.index?"addClass":"removeClass"](t.classes.disabled),r[1===this.index?"addClass":"removeClass"](t.classes.disabled),a.addClass(t.classes.selected),o.removeClass(t.classes.selected),this._updateCount()},_updateCount:function(){var t=this.options;e(t.selectors.count).text(this.index)},_updateMetadata:function(){var t=e("meta[name='description']"),i=e('[data-image-index="'+this.index+'"]').find("img"),n=this.$dek.text();e('link[rel="canonical"]').attr("href",window.location.href),t.length>0&&(t.attr("content",n.length>145?n.substr(0,145)+"...":n),1!=this.index?t.attr("content",t.attr("content").split(" - Page ")[0]+" - Page "+this.index):t.attr("content",t.attr("content").split(" - Page ")[0]),e("meta[property='og:description']").attr("content",t.attr("content"))),e("meta[property='og:url']").attr("content",window.location.href),e("meta[property='og:title']").attr("content",document.title),e("meta[property='og:image']").attr("content",i.attr("src")),e("meta[property='twitter:url']").attr("content",window.location.href),e("meta[property='twitter:image']").attr("content",i.attr("src")),e("meta[property='twitter:image:width']").attr("content",i.width()),e("meta[property='twitter:image:height']").attr("content",i.height()),e("meta[property='twitter:title']").attr("content",document.title)},_toggleDek:function(t,i){var n;n=void 0===i?"toggleClass":i?"removeClass":"addClass",this.$dekWrapper[n]("collapsed"),e(window).resize()},show:function(t,i){var s,r,d=this.options,c=this;if(t!==this.index){this.$element.addClass("loading"),s=this.$images.eq(this.index-1),r=this.$images.eq(t-1),a.resetViewGuid();try{l.log("Track as new pageview"),o.trackPageLoad(e.extend(!0,{},n.tracking.data,{levtType:"ria",event:"log",pageNum:t,mapp:"gallery",comptyp:"gallery",riaevent:"view",objtyp:"image",_pageViewGuid:n.guid}))}catch(e){l.log("ImageGallery tracking error occurred")}window.ZdnetFunctions.gdpr_consent_callback("script_image_gallery_gpt",function(){require(["version!fly/managers/gpt"],function(e){try{"mobile"===n.tracking.data.deviceType?(e.setTargeting("vguid",n.guid),e.refresh(n.guid)):(e.setTargeting("vguid",n.guid),e.refresh(n.guid,["leader_top","sharethrough_top","mpu_middle2","dynamic_showcase_top","leader_bottom","mpu_plus_top","mpu_middle","mpu_bottom"]))}catch(e){l.log("ImageGallery ad error occurred",e)}})}),this._loadImage(r),s.fadeOut("fast",function(){s.removeClass(d.classes.selected),r.fadeIn("fast",function(){r.addClass(d.classes.selected),c.$element.removeClass("loading")}).css("display","block")}),this.indexPrevious=this.index,this.index=t,this._updateControls(),this._trigger("shown",null,{$current:r,$previous:s,index:this.index,action:i}),this._preloadImages(),r=this.$images.eq(t-1),$info=r.find(d.selectors.info),e(this.$content).html($info.html()),this._updateMetadata(),this._checkThumbView()}},next:function(){this.index===this.count?this.isModal&&e('[data-item="modal-close"]').trigger("click"):this._super("next"),this._toggleDek(null,1==this.index)},previous:function(){this._super("previous"),this._toggleDek(null,1==this.index)},nextThumbs:function(){var e=-parseInt(this.$thumbViewPort.css("left"),10);this._updateThumbView(e+this.viewPortWidth)},previousThumbs:function(){var e=-parseInt(this.$thumbViewPort.css("left"),10);this._updateThumbView(e-this.viewPortWidth)},_checkThumbView:function(){var t=e(this.$thumbs[this.index-1]),i=t.position().left;this._updateThumbView(i-this.viewPortWidth/2+t.width()/2)},_updateThumbView:function(e){var t=this.options;if(this.$thumbs.parent("li").outerWidth(!0)*this.$thumbs.length>this.$thumbWrapper.width()){var i=!1,s=!1;e<0&&(e=0,i=!0);var o=95*this.$thumbs.length-this.viewPortWidth-25;e>o&&(e=o,s=!0),this.$thumbViewPort.stop().animate({left:-e},400),this.$slidePrev[i?"addClass":"removeClass"](t.classes.disabled),this.$slideNext[s?"addClass":"removeClass"](t.classes.disabled)}else"desktop"===n.tracking.data.deviceType&&(this.$slidePrev.addClass(t.classes.disabled),this.$slideNext.addClass(t.classes.disabled))},getScale:function(){return document.documentElement.clientWidth>document.documentElement.clientHeight?this.orientation="landscape":this.orientation="portrait",this.screenWidth=screen.width,"portrait"===this.orientation?screen.width>screen.height&&(this.screenWidth=screen.height):screen.width<screen.height&&(this.screenWidth=screen.height),this.viewportScale=this.screenWidth/window.innerWidth,this.viewportScale}})}),define("fly/managers/disqus-1.0",["jquery","version!fly/managers/debug","version!fly/utils/url-helper"],function(e,t,i){t=t.init("disqus");var n,s=!1,o={onInit:function(){},disqusId:"disqus_thread",disqusSelector:'[data-social="disqus"]',enabled:!1,shortName:null,disqusConfig:{apiPublicKey:null,enableScrollContainer:!0,sso:{},onNewComment:null}};return{init:function(t,i){e.extend(!0,o,t),o.enabled&&(i?this.fetchSso(function(){s=!0,o.onInit(),e(o.disqusSelector).data("loadOnInit")&&this.parse()}.bind(this)):(s=!0,o.onInit(),e(o.disqusSelector).data("loadOnInit")&&this.parse()))},parse:function(t){n=t?t.find(o.disqusSelector):e(o.disqusSelector),e("#"+o.disqusId).remove(),n.append('<div id="'+o.disqusId+'"></div>'),o.newThreadCallback&&o.newThreadCallback(),this.reset()},reset:function(){this.isInitialized()?this._loadDisqus():o.onInit=function(){this._loadDisqus()}.bind(this)},_loadDisqus:function(){var e=n.data("id"),t=n.data("title"),s=n.data("url");!s||i.getPath(s).length<2||(window.DISQUS?window.DISQUS.reset({reload:!0,config:function(){this.page.identifier=e,this.page.url=s,this.page.title=t,o.disqusConfig.sso.remoteAuthS3&&(this.page.remote_auth_s3=o.disqusConfig.sso.remoteAuthS3)}}):(disqus_config=function(){this.page.api_key=o.disqusConfig.apiPublicKey,this.experiment.enable_scroll_container=o.disqusConfig.enableScrollContainer,this.page.identifier=e,this.page.url=s,this.page.title=t,o.disqusConfig.sso.remoteAuthS3&&(this.page.remote_auth_s3=o.disqusConfig.sso.remoteAuthS3),this.sso={name:o.disqusConfig.sso.name,button:o.disqusConfig.sso.button,icon:o.disqusConfig.sso.icon,url:o.disqusConfig.sso.url,logout:o.disqusConfig.sso.logout,width:o.disqusConfig.sso.width,height:o.disqusConfig.sso.height},o.disqusConfig.sso.profile_url&&(this.sso.profile_url=o.disqusConfig.sso.profile_url),this.callbacks.onNewComment=o.disqusConfig.onNewComment},require(["//"+o.shortname+".disqus.com/embed.js"])))},fetchSso:function(t,i){t=t||function(e){},i=i||!1,e.post(i?o.disqusConfig.sso.authLogoutUrl:o.disqusConfig.sso.authLoginUrl,{}).done(function(e){e.remoteAuthS3?(o.disqusConfig.sso.remoteAuthS3=e.remoteAuthS3,t(e.remoteAuthS3)):t(null)}.bind(this))},isInitialized:function(){return s}}}),define("managers/disqus",["jquery","version!fly/managers/debug","version!fly/managers/disqus","managers/social/social-flags","managers/page-vars","managers/user","managers/tealium","utils/video-delay-helper"],function(e,t,i,n,s,o,a,r){if(t=t.init("disqus"),s.services.disqus.enabled){t.log("Service: Disqus");var l={onInit:function(){},enabled:n.enabled.disqus,shortname:s.disqus.shortname,disqusConfig:{apiPublicKey:s.disqus.publicKey,enableScrollContainer:!0,sso:{name:s.disqus.sso.name,button:s.disqus.sso.button,icon:s.disqus.sso.icon,authLoginUrl:s.disqus.sso.authLoginUrl,authLogoutUrl:s.disqus.sso.authLogoutUrl,url:s.disqus.sso.loginUrl,logout:s.disqus.sso.logoutUrl,width:"800",height:"400",remoteAuthS3:null},onNewComment:[function(e){var t=s.tracking.data;a.trackComment("trackSubmitComment",{_riaEvent:"create",_riaEventT:"comment",_riaWd:"submitbutton",siteSection:t.siteSection,userId:t.userId,pageNum:t.pageNum,_dwAnonId:t._dwCookieId},"submitComment")}]}};return e.extend(!0,{},i,{initialised:!1,setup:function(e){t.log("disqus zd init()"),window.ZdnetFunctions.gdpr_consent_callback("disqus_init",function(){o.getUserData(function(t,i){require(["version!fly/managers/disqus"],function(t){t.init(l,i.isLoggedIn),e&&e()})})}),this.initialised=!0},init:function(e){var i=this;"article"!==s.tracking.data.pageType&&r.callback("disqus",function(n){n?t.log("Disqus was delayed for video"):t.log("Loading Disqus regardless of video"),i.setup(e)})},parse:function(e){var i=this;t.log("disqus zd parse()"),window.ZdnetFunctions.gdpr_consent_callback("disqus_parse",function(){require(["version!fly/managers/disqus"],function(t){i.initialised?t.parse(e):i.init(function(){t.parse(e)})})})}})}}),define("components/image-gallery-modal",["jquery","managers/components","version!fly/managers/debug","managers/page-vars","managers/tealium","managers/guid","managers/disqus","managers/user","version!fly/components/base"],function(e,t,i,n,s,o,a,r){i=i.init("imageGalleryModal"),e.widget("zdnet.imageGalleryModal",e.fly.base,{url:"",hostUrl:"",hostState:{},hostAdData:{},hostGuid:0,hasSkin:!1,hasSkinLockNarrow:!1,isHostGallery:!1,_create:function(){var t=this;this._setup(),this.$canonicalTag=e('link[rel="canonical"]'),this.$element.on("click",function(i){if(!(t.$element.attr("href").indexOf("/pictures/")<0)){i.preventDefault(),t._clickControl();for(var n="",s=e(i.target).closest("[section],[id]"),o=0;o<3;o++)s.attr("section")?n=s.attr("section")+"|"+n:s.attr("id")&&(n=s.attr("id")+"|"+n),s=s.parent().closest("[section],[id]");n=n.slice(0,n.length-1),window.dwTag=n}})},_storeHostPageData:function(){this.url=this.$element.attr("href"),this.hostUrl=window.location.href,this.hostState=window.history.state,this.hostAdData=e.extend(!0,{},n.ads.data),this.hostTracking=e.extend(!0,{},n.tracking),this.hostImage=e('meta[property="og:image"]').attr("content").trim(),this.hostGuid=o.getViewGuid(),this.hostCanonical=this.$canonicalTag.attr("href"),this.hostDescription=e('meta[name="description"]').attr("content"),this.$element.closest(".shortcodeGalleryWrapper").length&&(assetId=this.$element.closest("div[data-item-id]").attr("data-item-id"),assetId?$hostDisqusContainer=e("#disqusContainer-"+assetId):$hostDisqusContainer=e('div[id^="disqusContainer-"]'))},_clickControl:function(){var l=this,d=e("body"),c=e("#bodyWrapper");c.length>0?(i.log("IGM: replacing gallery modal"),c.data("persist","true"),c.find(".closeModal").trigger("click"),d.removeClass("overflow"),c.addClass("loadingArea"),c.find("#main").empty()):(i.log("IGM: setting up gallery modal"),c=e("<div id='bodyWrapper' class='loadingArea'><div id='main'></div></div>"),d.append(c),d.addClass("galleryModal"),e(window).width()<980&&d.addClass("smallTabletGallery")),"image_gallery"==n.tracking.data.pageType&&(l.isHostGallery=!0),l._storeHostPageData(),e.ajax({url:this.url+"xhr/"+window.location.search,dataType:"json",context:document.body}).done(function(c){i.log("Gallery loaded"),l.hasSkin=!!e("body.skinAd").length,l.hasSkinLockNarrow=!!e("body.skinlocknarrow").length,n.ads.data=c.adData,n.tracking.data=c.trackingData,o.resetViewGuid();try{i.log("Track as new pageview"),s.trackPageLoad(e.extend(!0,{},c.trackingData,{viewguid:o.getViewGuid(),title:c.trackingData.photoGalleryTitle,_pageViewGuid:o.getViewGuid(),_topicPrimaryId:c.trackingData.topicId[0],_pageUrl:l.url}))}catch(e){i.log("ImageGallery tracking error occurred")}l.$canonicalTag.length>0?l.$canonicalTag.attr("href",c.canonicalUrl):e("head").append('<link rel="canonical" href="'+c.canonicalUrl+'">');var u=e(c.template),h=e("#bodyWrapper");0===h.find("#main").length&&h.append('<div id="main"></div>'),h.find("#main").append(u),h.removeClass("loadingArea"),t.process(h),s.initClickTracking(h),window.ZdnetFunctions.gdpr_consent_callback("script_image_gallery_modal_ad",function(){n.services.gpt.enabled&&require(["managers/ad"],function(e){try{e.init({ad:n.ads.data,viewGuid:n.guid}),i.log("item.adData: ",n.ads.data.gpt)}catch(e){i.log("gpt.init had trouble: ",e)}try{e.loadAds(),i.log("test loadAds")}catch(e){i.log("gpt.loadAds(); had trouble: ",e)}})}),r.getUserData(function(t,i){i.userName&&e(".postComments .disqus-username").text(i.userName)}),"undefined"!=typeof $hostDisqusContainer?($modalDisqusContainer=e("#disqusContainer-"+c.trackingData.photoGalleryId),$modalDisqusContainer.length&&a.parse($modalDisqusContainer)):a.init();var p=e(window).scrollTop();this.$close=e('[data-item="modal-close"]'),this.$close.on("click",function(){setTimeout(function(){e(window).scrollTop(p)},1),l._closeModal(d,c.trackingData)})}).fail(function(){l.hasSkin||d.removeClass("skinAd"),this.hasSkinLockNarrow||d.removeClass("skinlocknarrow"),d.removeClass("galleryModal"),e("#bodyWrapper").remove()})},_closeModal:function(t,i){this.hasSkin||t.removeClass("skinAd"),omnitureMgr.trackEvent("trackOverlayClicks",{location:"overlay-gallery-close"}),n.tracking=this.hostTracking,n.ads.data=this.hostAdData,"function"==typeof window.history.replaceState?window.history.replaceState(this.hostState,"",this.hostUrl):window.location.href=this.hostUrl,e("title").text(this.hostTracking.data._pageTitle),e('meta[name="description"]').attr("content",this.hostDescription),e('meta[property="og:image"]').attr("content",this.hostImage),e('meta[property="og:url"]').attr("content",this.hostCanonical),e('meta[property="og:title"]').attr("content",this.hostTracking.data._pageTitle),e('meta[property="og:description"]').attr("content",this.hostDescription),this.hostCanonical?this.$canonicalTag.attr("href",this.hostCanonical):this.$canonicalTag.remove(),o.resetViewGuid(this.hostGuid),this.hasSkinLockNarrow||t.removeClass("skinlocknarrow"),this.isHostGallery||(t.removeClass("overflow"),t.removeClass("smallTabletGallery"));var s=e("#bodyWrapper");"true"===s.data("persist")?(s.find("#main").remove(),s.data("persist",null)):(s.remove(),t.removeClass("galleryModal"),e(window).resize(),window.ZdnetFunctions.gdpr_consent_callback("script_image_gallery_modal_disqus",function(){$hostDisqusContainer.length&&a.parse($hostDisqusContainer)}))}})}),define("fly/components/carousel-1.0",["jquery","version!fly/utils/string-helper","version!fly/components/base"],function(e,t){var i=e.support.touch?"vclick":"click";e.widget("fly.carousel",e.fly.base,{options:{currentSlide:0,numOfVisibleSlides:1,incrementAmount:1,slideHeight:null,slideWidth:null,hidePreviousOnFirstSlide:!1,updatePagination:!1,pageUrlAttribute:"page-location",autoplayDelay:6e3,autoplayPauseOnHover:!0,autoplayPauseOnBlur:!0,classSelected:"selected",classActive:"active",classFocus:"focused",transitionType:"fade",transitionDuration:400,transitionEasing:"linear"},transitionTypes:{fade:{init:function(){var e=this.options;this.vertical=!1,this.items.slides.$elements.not("."+e.classSelected).hide()},showSlide:function(t){var i=this.options;e(this.items.slides.$elements[i.currentSlide]).fadeOut(i.transitionDuration,i.transitionEasing),e(this.items.slides.$elements[t]).fadeIn(i.transitionDuration,i.transitionEasing)}},slideHorizontal:{init:function(){var e=this.options;this.items.canvas.$element.css("left",-this.slideWidth*e.currentSlide)},showSlide:function(e){var t=this.options;this.items.canvas.$element.animate({left:-this.slideWidth*e},t.transitionDuration,t.transitionEasing)}},slideHorizontalInfinite:{init:function(){var e=this.options;this.infinite=!0,this.items.canvas.$element.css("left","0"),
e.slideWidth&&-1==e.incrementAmount&&(e.incrementAmount=Math.floor(this.items.container.$element.width()/parseInt(e.slideWidth)))},showSlide:function(t){var i=this.options;if(t>0)this.items.canvas.$element.animate({left:-this.slideWidth*t},i.transitionDuration,i.transitionEasing,function(){for(var i=0;i<t;i++)this.items.canvas.$element.append(this.items.slides.$elements[i]);this.items.canvas.$element.css("left","0"),this.items.slides.$elements=e(this.items.slides.selector,this.$element)}.bind(this));else if(t<0){for(var n=this.items.slides.$elements.length-1;n>=this.items.slides.$elements.length+t;n--)this.items.canvas.$element.prepend(this.items.slides.$elements[n]);this.items.canvas.$element.css("left",this.slideWidth*t+"px"),this.items.slides.$elements=e(this.items.slides.selector,this.$element),this.items.canvas.$element.animate({left:"0"},i.transitionDuration,i.transitionEasing)}}},slideVertical:{init:function(){var e=this.options;this.vertical=!0,this.items.canvas.$element.css("top",-e.slideHeight*e.currentSlide)},showSlide:function(e){var t=this.options;this.items.canvas.$element.animate({top:-t.slideHeight*e},t.transitionDuration,t.transitionEasing)}},slideVerticalInfinite:{init:function(){var e=this.options;this.infinite=!0,this.vertical=!0,this.items.canvas.$element.css("top",-e.slideHeight*e.currentSlide)},showSlide:function(t){var i=this.options;if(t>0)this.items.canvas.$element.animate({top:-i.slideHeight*t},i.transitionDuration,i.transitionEasing,function(){for(var i=0;i<t;i++)this.items.canvas.$element.append(this.items.slides.$elements[i]);this.items.canvas.$element.css("top","0"),this.items.slides.$elements=e(this.items.slides.selector,this.$element)}.bind(this));else if(t<0){for(var n=this.items.slides.$elements.length-1;n>=this.items.slides.$elements.length+t;n--)this.items.canvas.$element.prepend(this.items.slides.$elements[n]);this.items.canvas.$element.css("top",i.slideHeight*t+"px"),this.items.slides.$elements=e(this.items.slides.selector,this.$element),this.items.canvas.$element.animate({top:"0"},i.transitionDuration,i.transitionEasing)}}}},_create:function(i){var n=this.options;this._setup(),this.items={viewport:{selector:'[data-item="viewport"]'},canvas:{selector:'[data-item="canvas"]'},slides:{selector:'[data-item="slide"]'},next:{selector:'[data-to="next"]'},prev:{selector:'[data-to="prev"]'},jumps:{selector:'[data-to]:not([data-to="next"], [data-to="prev"])'}},e.each(this.items,function(t,i){this.items[t].$elements=e(i.selector,this.$element),this.items[t].$element=this.items[t].$elements.length>0?e(this.items[t].$elements[0]):null}.bind(this)),this.items.container={$element:this.items.viewport.$element.parent()},this.infinite||(e(this.items.slides.$elements[n.currentSlide]).addClass(n.classSelected),this.items.jumps.$elements.length>0&&e('[data-to="'+n.currentSlide+'"]',this.items.jumps.$elements).addClass(n.classSelected)),this.$element.addClass(t.fromCamelCase(n.transitionType)),this.transitionTypes[n.transitionType].init.bind(this)(),this._setupEvents(),this.vertical||(this.items.viewport.$element.height(n.slideHeight),this.items.canvas.$element.height(n.slideHeight),this.items.slides.$elements.height(n.slideHeight),this.setWidths()),this.$element.addClass(n.classActive),e(this.items.slides.$elements[n.currentSlide]).addClass(n.classSelected),this.items.jumps.$elements.length>0&&e(this.items.jumps.$elements[n.currentSlide]).addClass(n.classSelected),n.hidePreviousOnFirstSlide&&n.currentSlide>0&&this.checkPreviousButton(n.currentSlide),n.autoplayDelay>0&&this.autoplay()},_setupEvents:function(){var t=this,n=t.options,s={};s[i+" "+this.items.next.selector]="next",s[i+" "+this.items.prev.selector]="previous",this.infinite||(s[i+" "+this.items.jumps.selector]=function(i){t.goto(parseInt(e(i.target).data("to"),10))}),this.items.slides.$elements.on("hover",function(i){t.items.slides.$elements.removeClass(n.classFocus),e(this).addClass(n.classFocus)}),this.vertical||this._on(this.$window,{resize:function(e){t.setWidths()}}),n.autoplayDelay>0&&(n.autoplayPauseOnHover&&e.extend(s,{mouseenter:function(e){t.interval&&t.pause()},mouseleave:function(e){t.interval||t.autoplay()}}),n.autoplayPauseOnBlur&&this._on(this.$window,{blur:function(e){t.interval&&t.pause()},focus:function(e){t.interval||t.autoplay()}})),this._on(this.$element,s)},_autoplayNextSlide:function(){var e=this.options;this.showSlide(this.infinite?e.incrementAmount:(e.currentSlide+e.incrementAmount)%this.items.slides.$elements.length)},_updatePushState:function(e){history.pushState&&history.pushState(null,null,e)},showSlide:function(t){var i=this.options;this.transitionTypes[i.transitionType].showSlide.bind(this)(t),this.infinite||(this.items.slides.$elements.removeClass(i.classSelected),this.items.jumps.$elements.removeClass(i.classSelected),e(this.items.slides.$elements[t]).addClass(i.classSelected),this.items.jumps.$elements.length>0&&e(this.items.jumps.$elements[t]).addClass(i.classSelected),i.currentSlide=t),i.updatePagination&&this._updatePushState(e(this.items.slides.$elements[t]).data(i.pageUrlAttribute)),this._trigger("slidechanged")},next:function(){var e=this.options;this.pause(!0),this.showSlide(this.infinite?e.incrementAmount:(e.currentSlide+e.incrementAmount)%this.items.slides.$elements.length),e.hidePreviousOnFirstSlide&&this.checkPreviousButton(e.currentSlide),this._trigger("next")},previous:function(){var e=this.options;this.pause(!0),this.showSlide(this.infinite?-e.incrementAmount:(e.currentSlide+this.items.slides.$elements.length-e.incrementAmount)%this.items.slides.$elements.length),e.hidePreviousOnFirstSlide&&this.checkPreviousButton(e.currentSlide),this._trigger("previous")},goto:function(e){var t=this.options;this.pause(!0),this.showSlide(e),t.hidePreviousOnFirstSlide&&this.checkPreviousButton(e),this._trigger("goto")},autoplay:function(){var e=this.options;e.autoplayDelay>0&&(this.interval=setInterval(this._autoplayNextSlide.bind(this),e.autoplayDelay),this._trigger("play"))},pause:function(e){var t=this.options;clearInterval(this.interval),this.interval=null,this._trigger("pause"),e&&(t.autoplayDelay=0,this._trigger("stop"))},setWidths:function(){var e=this.options;this.slideWidth=e.slideWidth?parseInt(e.slideWidth):this.items.container.$element.width()/this.options.numOfVisibleSlides,this.items.slides.$elements.width(this.slideWidth),this.items.canvas.$element.width(this.slideWidth*this.items.slides.$elements.length),this.items.canvas.$element.css("left",-this.slideWidth*e.currentSlide)},checkPreviousButton:function(t){0===t?e(this.items.prev.selector).css("visibility","hidden"):e(this.items.prev.selector).css("visibility","visible")}})}),define("components/product-carousel",["jquery","version!fly/managers/debug","managers/tealium","managers/page-vars","version!fly/components/carousel","version!libs/jquery/lazyload"],function(e,t,i,n){e(".jumps").children().length<=1&&(e(".jumps").css("display","none"),e('[data-to="next"]').css("display","none"),e('[data-to="prev"]').css("display","none")),t=t.init("productCarousel"),e.widget("zdnet.productCarousel",e.fly.carousel,{options:{scrollOnClick:!1,refreshAds:!0},_create:function(){this._super(),this._lazyLoadImages();var e={};e.swiperight="_handleSwipeControl",e.swipeleft="_handleSwipeControl",this._on(".reviewGallery",e)},showSlide:function(i){var s=this.options;s.scrollOnClick&&e("body,html").animate({scrollTop:this.$element.offset().top-59},"500"),e(window).width()>=980&&0===i?this.$element.find("#summaryInfo").addClass("active"):this.$element.find("#summaryInfo").removeClass("active"),window.ZdnetFunctions.gdpr_consent_callback("script_product_carousel_gpt",function(){require(["version!fly/managers/gpt"],function(e){if(s.refreshAds)try{t.log("refresh ads"),e.refresh(n.guid,["leader_top","mpu_top","mpu_middle","leader_plus_middle","mpu_bottom","skin","inline_product_carousel_top","social_logo_bottom","leader_bottom","info_board_top"])}catch(e){t.log("Product Media Gallery ad error occurred")}})}),this.transitionTypes[s.transitionType].showSlide.bind(this)(i),this.infinite||(this.items.slides.$elements.removeClass(s.classSelected),this.items.jumps.$elements.removeClass(s.classSelected),e(this.items.slides.$elements[i]).addClass(s.classSelected),this.items.jumps.$elements.length>0&&e(this.items.jumps.$elements[i]).addClass(s.classSelected),s.currentSlide=i),s.updatePagination&&this._updatePushState(e(this.items.slides.$elements[i]).data(s.pageUrlAttribute)),this._trigger("slidechanged")},_handleSwipeControl:function(t){if(!e("li").is(":animated"))switch(t.type){case"swipeleft":this.next(t);break;case"swiperight":this.previous(t)}},next:function(e){this._super(),t.log("product-carousel-next"),this._trackAction("nextSlide",e)},previous:function(e){this._super(),t.log("product-carousel-prev"),this._trackAction("prevSlide",e)},_trackAction:function(e,t){},_lazyLoadImages:function(){e(".productMediaCarousel").one("click",function(){e("img.lazy").lazyload({failure_limit:2e3,skip_invisible:!1,threshold:200})})}})}),define("components/shortcode-gallery",["jquery","version!fly/managers/debug","fly/utils/string-vars-1.0","version!fly/components/base","version!fly/components/image-gallery","version!libs/jquery/mobile"],function(e,t,i){var n=t.init("shortcodeGallery"),s=e.support.touch?"vclick":"click";e.widget("zdnet.shortcodeGallery",e.fly.imageGallery,{options:{index:1,preloadThreshold:3,countTemplate:'<span class="first">{first}</span> - <span class="last">{last}</span> of <span class="count">{count}</span>',selectors:{viewport:'[data-item="viewport"]',window:'[data-item="window"]'}},_create:function(){var e=this.options;this._super("_create"),this._handleSize();var t=this.$element.find('[data-item="image-count"]').clone();t.find(".first").html("{first}"),t.find(".last").html("{last}"),t.find(".count").html("{count}"),e.countTemplate=t.html()},_setupEvents:function(){var t=this,i={},n={};i[s+" "+this.selectors.control]="_handleControlClick",n.swiperight="_handleSwipeControl",n.swipeleft="_handleSwipeControl",i.shortcodegalleryshown="_handleShown",this._on(this.$element,i),this._on(".shortcodeGalleryWrapper",n),e(window).resize(function(e){t._handleResize(e)}),e(window).on("orientationchange",function(e){t._handleResize(e)})},_handleSize:function(){var t=this.$element.find(this.options.selectors.window),i=this.$element.find(".thumbnail").width();this.visibleImages=Math.floor(t.width()/i);var n=t.width()-this.visibleImages*i,s=Math.ceil(n/this.visibleImages);e('[data-item="image"]').css("margin-right",s),this._setupViewports(),this._updateCount(),this._updateControls()},_setupViewports:function(){var t=this;this.$element.find(this.options.selectors.viewport).each(function(i,n){var s=e(n),o=s.find(t.options.selectors.image),a=0;o.each(function(t,i){a+=e(i).outerWidth(!0)}),s.width(a)})},_handleShown:function(e,t){var i=t.$current.position().left,n=parseInt(t.$current.css("marginLeft"),10),s=n+i,o=t.$current.closest(this.options.selectors.viewport);e&&e.preventDefault(),-s!=parseInt(o.css("left"),10)&&t.$current.closest(this.options.selectors.viewport).css("left",-s)},_handleResize:function(e){var t=this.$element.find(this.options.selectors.viewport),i=t.find("."+this.options.classes.selected);this._handleSize(),this._handleShown(null,{$current:i})},_updateCount:function(){var e=this.options,t={};this.$count.length&&(t={first:this.index,last:Math.min(this.index+this.visibleImages-1,this.count),count:this.count},this.$count.html(i.compile(e.countTemplate,t)))},_updatePushState:function(e,t){this.options.enablePushState&&history.pushState&&(n.log("pushState: "+e+": "+t),history.pushState({},"",t))},_handleSwipeControl:function(e){switch(e.type){case"swipeleft":this.next();break;case"swiperight":this.previous()}},next:function(){var e=Math.min(this.index+this.visibleImages,this.count-this.visibleImages+1);e<0||(this.show(e),this._trigger("next"),this._updatePushState("next",e))},previous:function(){var e=Math.max(1,this.index-this.visibleImages);1!==this.index&&(this.show(e),this._trigger("previous"),this._updatePushState("previous",e))},show:function(e){(e=Math.max(1,Math.min(e,this.count-this.visibleImages+1)))!==this.index&&this._super(e)},_handleControlClick:function(t){var i=e(t.target).closest(this.selectors.control).data("toImage");switch(t.preventDefault(),i){case"next":this.next();break;case"previous":this.previous();break;default:this.show(parseInt(i,10))}},_updateControls:function(){if(this.visibleImages){this._super();var e=this.options;this.$element.find(this.selectors.next)[this.index+this.visibleImages-1>=this.count?"addClass":"removeClass"](e.classes.disabled)}}})}),define("components/newsletter-widget",["jquery","managers/user","version!fly/managers/debug","version!fly/components/base"],function(e,t,i){var n=i.init("newsletterWidget");e.widget("zdnet.newsletterWidget",e.fly.base,{options:{errorMessage:null,position:null,formId:null},clickEventName:e.support.touch?"vclick":"click",_create:function(){var e=this;e._setup(),e._setupEvents()},_setupEvents:function(){var e=this,t={};n.log("loading newsletter widget"),t["submit .newsletterWidgetForm"]="_handleSubmit",this.$document.on(this.clickEventName,"#newsletter-terms-of-service-submit",function(t){t.preventDefault(),e._handleTosAccepted(),e._handleNewsletterRegister()}),this._on(this.$element,t)},_handleSubmit:function(t){t.preventDefault(),self=this,omnitureMgr.trackEvent("trackClick",{clickGenericText:"newsletter-subscribe",position:self.options.position});var i=t.target.name;if(self.options.formId=i,n.log(i),e("#"+i+" .newsletter_email").length>0){/^[A-Z0-9._%+\-]+@[A-Z0-9.\-]+\.[A-Z]{2,4}$/i.test(e("#"+i+" .newsletter_email").val())?(e("#"+i+".newsletterWidgetErrorMessage").hide(),self._handleTosModal()):(e("#"+i).parent().find(".newsletterWidgetErrorMessage .alert-error").html("Please specify valid email"),e("#"+i).parent().find(".newsletterWidgetErrorMessage").show())}else self._handleTosModal();return!1},_handleTosAccepted:function(){return self=this,omnitureMgr.trackEvent("trackClick",{clickGenericText:"newsletter-tos-accepted",position:self.options.position}),n.log("tos accepted"),!1},_handleTosModal:function(){self=this,t.getUserData(function(t,i){i.isLoggedIn?self._handleNewsletterRegister():e("#newsletter-terms-of-service").modal("open")})},_handleNewsletterRegister:function(){self=this;var t=self.options.formId;return n.log(t),e.ajax({type:"POST",jsonp:"jsonp",url:e("#"+t).attr("action"),data:e("#"+t).serialize(),xhrFields:{withCredentials:!0},crossDomain:!0}).done(function(i){"success"==i.status?(!0===i.isRegister&&(n.log("fire new registration"),omnitureMgr.trackEvent("newRegistration",{registrationFormType:i.appId+"|newsletters",position:self.options.position,location:self.options.position})),n.log("fire new subscription"),omnitureMgr.trackEvent("newsletterSubscribe",{newsletterId:i.ecodes,position:self.options.position}),e("#newsletter-terms-of-service .close").trigger("click"),e("#"+t).parent().find(".newsletterWidgetForm").hide(),e("#"+t).parent().find(".newsletterWidgetSuccessMessage").show()):(e("#newsletter-terms-of-service .close").trigger("click"),e("#"+t).parent().find(".newsletterWidgetErrorMessage .alert-error").html(self.options.errorMessage),e("#"+t).parent().find(".newsletterWidgetErrorMessage").show())}).fail(function(i){e("#newsletter-terms-of-service .close").trigger("click"),e("#"+t).parent().find(".newsletterWidgetErrorMessage .alert-error").html(self.options.errorMessage),e("#"+t).parent().find(".newsletterWidgetErrorMessage").show()}),!1}})}),define("components/load-newsletter-async",["jquery","managers/user","version!fly/managers/debug","version!fly/components/base"],function(e,t,i){var n=i.get("loadNewsletterAsync");e.widget("zdnet.loadNewsletterAsync",e.fly.base,{options:{loginUrl:null,loggedUrl:null,url:null,data:{},replace:!0,relocate:!1,cache:!0},_create:function(){this.options;this._setup(),this.id=this.$element.attr("id"),this.id||(this.id="uid-"+Math.floor(1e5*Math.random()),this.$element.attr("id",this.id)),n.log("_create: ","container",this.id),this._load()},_load:function(){var i=this.options,s=this;t.getUserData(function(t,o){i.url=o.isLoggedIn?i.loggedUrl:i.loginUrl,n.log("_load: ","loading",s.id,i.url,i.data),e.ajax({type:"GET",dataType:"json",url:i.url,data:i.data}).done(e.proxy(s._handleSuccess,s)).fail(e.proxy(s._handleFailure,s))})},_handleSuccess:function(t){var i=this.options,s=this;n.log("_handleSuccess: ","response success?",t.success,s.id),t.success&&t.html?(i.replace?s.$element.replaceWith(t.html):i.relocate&&e(i.relocate).length>0?e(t.html).prependTo(e(i.relocate)):s.$element.html(t.html),s._trigger("contentSet",null,{content:s.$element})):s._handleFailure(t),"undefined"!=typeof Waypoint&&Waypoint.refreshAll()},_handleFailure:function(e){var t=(this.options,this);n.log("_handleFailure: ","error message",e,t.id)}})}),define("pages/product_main",["main","components/share-bar","components/email-contact","components/image-gallery","components/image-gallery-modal","components/product-carousel","components/shortcode-gallery","components/newsletter-widget","components/load-newsletter-async","utils/function-natives"],function(){});